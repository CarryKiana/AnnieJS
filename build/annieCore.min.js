var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="annie.EventDispatcher",e}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;if(""==e)for(var r in n._MECO)0==r.indexOf("onMouse")&&(t+=n._MECO[r]);else n._MECO[e]&&(t=n._MECO[e]);return t},n.prototype.addEventListener=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var r=this,i=r.eventTypes;n||(i=r.eventTypes1),i[e]||(i[e]=[]),i[e].indexOf(t)<0&&(i[e].unshift(t),0==e.indexOf("onMouse")&&r._changeMouseCount(e,!0))},n.prototype._changeMouseCount=function(e,t){var r=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=r,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=r},n.prototype.dispatchEvent=function(t,n,r){void 0===n&&(n=null),void 0===r&&(r=!0);var i=this;"string"==typeof t&&(i._defaultEvent?i._defaultEvent.reset(t,i):i._defaultEvent=new e.Event(t),t=i._defaultEvent);var o=i.eventTypes[t.type];if(r||(o=i.eventTypes1[t.type]),o){var a=o.length;null==t.target&&(t.target=i),null!=n&&(t.data=n);for(var s=a-1;s>=0;s--)t._pd||(o[s]?o[s](t):o.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(e,t){void 0===t&&(t=!0);var n=this;if(t){if(n.eventTypes[e]&&n.eventTypes[e].length>0)return!0}else if(n.eventTypes1[e]&&n.eventTypes1[e].length>0)return!0;return!1},n.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!0);var r=this,i=r.eventTypes[e];if(n||(i=r.eventTypes1[e]),i)for(var o=i.length,a=o-1;a>=0;a--)i[a]===t&&(i.splice(a,1),0==e.indexOf("onMouse")&&r._changeMouseCount(e,!1))},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);for(var t in e.eventTypes1)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes1[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes1={},e.eventTypes={}},n.prototype.destroy=function(){this.removeAllEventListener()},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.target=null,n.data=null,n._bpd=!1,n._pd=!1,n._instanceType="annie.Event",n.type=t,n}return __extends(t,e),t.prototype.stopImmediatePropagation=function(){this._pd=!0},t.prototype.stopPropagation=function(){this._bpd=!0},t.prototype.destroy=function(){var e=this;e.target=null,e.data=null},t.prototype.reset=function(e,t){var n=this;n.target=t,n._pd=!1,n._bpd=!1,n.type=e},t.ON_INIT_STAGE="onInitStage",t.RESIZE="onResize",t.ON_RUN_CHANGED="onRunChanged",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t.ON_DRAW_PERCENT="onDrawTime",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n.clientX=0,n.clientY=0,n.stageX=0,n.stageY=0,n.localX=0,n.localY=0,n.currentTarget=null,n.identifier=0,n._instanceType="annie.MouseEvent",n}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},t.prototype.destroy=function(){this.currentTarget=null,e.prototype.destroy.call(this)},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){var r=t.call(this,n)||this;return r.clientPoint1=new e.Point,r.clientPoint2=new e.Point,r.scale=0,r.rotate=0,r._instanceType="annie.TouchEvent",r}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},n.prototype.destroy=function(){var e=this;e.clientPoint1=null,e.clientPoint2=null,t.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=e.call(this)||this;r.x=0,r.y=0;var i=r;return i._instanceType="annie.Point",i.x=t,i.y=n,r}return __extends(t,e),t.prototype.destroy=function(){},t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case i:case-o:return 0;case r:case-r:return-1;case o:case-i:return 0;default:return Math.cos(e)}}function n(e){switch(e){case i:case-o:return 1;case r:case-r:return 0;case o:case-i:return-1;default:return Math.sin(e)}}var r=Math.PI,i=r>>1,o=r+i,a=Math.PI/180,s=function(r){function i(t,n,i,o,a,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0);var l=r.call(this)||this;l.a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.transformPoint=function(t,n,r){void 0===r&&(r=null);var i=this;return r||(r=new e.Point),r.x=t*i.a+n*i.c+i.tx,r.y=t*i.b+n*i.d+i.ty,r},l.prepend=function(e){var t=this,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,u=t.c,c=t.tx;t.a=n*l+i*t.b,t.b=r*l+o*t.b,t.c=n*u+i*t.d,t.d=r*u+o*t.d,t.tx=n*c+i*t.ty+a,t.ty=r*c+o*t.ty+s};var u=l;return u._instanceType="annie.Matrix",u.a=t,u.b=n,u.c=i,u.d=o,u.tx=a,u.ty=s,l}return __extends(i,r),i.prototype.clone=function(){var e=this;return new i(e.a,e.b,e.c,e.d,e.tx,e.ty)},i.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},i.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},i.prototype.invert=function(){var e=this,t=new i(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,r=e.b,o=e.c,a=e.d,s=e.tx,l=e.ty;if(0==r&&0==o)return 0==n||0==a?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,a=t.d=1/a,t.tx=-n*s,t.ty=-a*l),t;var u=n*a-r*o;if(0==u)return t.identity(),t;u=1/u;var c=t.a=a*u;return r=t.b=-r*u,o=t.c=-o*u,a=t.d=n*u,t.tx=-(c*s+o*l),t.ty=-(r*s+a*l),t},i.prototype.createBox=function(e,r,i,o,s,l,u,c,d){var p=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)p.a=i,p.b=p.c=0,p.d=o;else{l*=a,u*=a;var h=t(l),_=n(l);l==u?(p.a=h*i,p.b=_*i):(p.a=t(u)*i,p.b=n(u)*i),p.c=-_*o,p.d=h*o}p.tx=e+c-(c*p.a+d*p.c),p.ty=r+d-(c*p.b+d*p.d)},i.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},i.prototype.concat=function(e){var t=this,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,u=e.b,c=e.c,d=e.d,p=e.tx,h=e.ty;t.a=n*l+r*c,t.b=n*u+r*d,t.c=i*l+o*c,t.d=i*u+o*d,t.tx=a*l+s*c+p,t.ty=a*u+s*d+h},i.prototype.rotate=function(e){var t=this,n=Math.sin(e),r=Math.cos(e),i=t.a,o=t.b,a=t.c,s=t.d,l=t.tx,u=t.ty;t.a=i*r-o*n,t.b=i*n+o*r,t.c=a*r-s*n,t.d=a*n+s*r,t.tx=l*r-u*n,t.ty=l*n+u*r},i.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},i.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},i.prototype.destroy=function(){},i}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0);var o=e.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="annie.Rectangle",a.x=t,a.y=n,a.height=i,a.width=r,o}return __extends(t,e),t.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},t.createFromRects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0==e.length)return null;if(1==e.length)return e[0];for(var n=e[0],r=n.x,i=n.y,o=n.width,a=n.height,s=void 0,l=void 0,u=void 0,c=void 0,d=1;d<e.length;d++)s=r+o,u=i+a,l=e[d].x+e[d].width,c=e[d].y+e[d].height,(r>e[d].x||0==s)&&(r=e[d].x),(i>e[d].y||0==u)&&(i=e[d].y),s<l&&(s=l),u<c&&(u=c),n.x=r,n.y=i,n.width=s-r,n.height=u-i;return n},t.createFromPoints=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0].x,i=t[0].y,o=t[0].x,a=t[0].y,s=1;s<t.length;s++)null!=t[s]&&(r>t[s].x&&(r=t[s].x),i>t[s].y&&(i=t[s].y),o<t[s].x&&(o=t[s].x),a<t[s].y&&(a=t[s].y));return e.x=r,e.y=i,e.width=o-r,e.height=a-i,e},t.createRectform2Point=function(e,t,n){var r=t.x,i=t.y,o=t.x,a=t.y;r>n.x&&(r=n.x),i>n.y&&(i=n.y),o<n.x&&(o=n.x),a<n.y&&(a=n.y),e.x=r,e.y=i,e.width=o-r,e.height=a-i},t.testRectCross=function(e,t){var n,r,i,o;return n=e.x+e.width/2,r=e.y+e.height/2,i=t.x+t.width/2,o=t.y+t.height/2,Math.abs(n-i)<=e.width/2+t.width/2&&Math.abs(r-o)<=e.height/2+t.height/2},t.prototype.destroy=function(){},t}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._UI={UD:!1,UM:!0,UA:!0,UF:!1},n.stage=null,n.parent=null,n.cAlpha=1,n.cMatrix=new e.Matrix,n.mouseEnable=!0,n.cFilters=[],n.name="",n._x=0,n._y=0,n._scaleX=1,n._scaleY=1,n._rotation=0,n._alpha=1,n._skewX=0,n._skewY=0,n._anchorX=0,n._anchorY=0,n._visible=!0,n._matrix=new e.Matrix,n._mask=null,n._filters=[],n._cp=!0,n._dragBounds=new e.Rectangle,n._isDragCenter=!1,n._lastDragPoint=new e.Point,n._isUseToMask=0,n._texture=null,n._offsetX=0,n._offsetY=0,n._bounds=new e.Rectangle,n._drawRect=new e.Rectangle,n.soundList=[],n._a2x_res_obj={},n._instanceType="annie.DisplayObject",n}return __extends(n,t),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._setProperty("_x",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._setProperty("_y",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){this._setProperty("_scaleX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){this._setProperty("_scaleY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._setProperty("_rotation",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._setProperty("_alpha",e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){this._setProperty("_skewX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){this._setProperty("_skewY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){this._setProperty("_anchorX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){this._setProperty("_anchorY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){var t=this;e!=t._visible&&(e&&(t._cp=!0),t._visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(e){var t=this;e!=t._mask&&(e?e._isUseToMask++:null!=t._mask&&t._mask._isUseToMask--,t._mask=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._setProperty("_filters",e,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this.cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){void 0===t&&(t=null);var n=this;return n.parent?n.parent.cMatrix.transformPoint(e.x,e.y,t):n.cMatrix.transformPoint(e.x,e.y,t)},n.prototype.startDrag=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null);var r=this;if(!r.stage)return void console.log("The DisplayObject is not on stage");e.Stage._dragDisplay=r,r._isDragCenter=t,r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE,n?(r._dragBounds.x=n.x,r._dragBounds.y=n.y,r._dragBounds.width=n.width,r._dragBounds.height=n.height):(r._dragBounds.x=0,r._dragBounds.y=0,r._dragBounds.width=0,r._dragBounds.height=0)},n.prototype.stopDrag=function(){e.Stage._dragDisplay==this&&(e.Stage._dragDisplay=null)},n.prototype.hitTestPoint=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=this;if(!i.visible||!i.mouseEnable&&r)return null;var o;return o=t?i.globalToLocal(e,n._bp):e,i.getBounds().isPointIn(o)?i:null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(){var t=this,r=t.getBounds();if(t._mask){var i=t._mask.getDrawRect();r.x<i.x&&(r.x=i.x),r.y<i.y&&(r.y=i.y),r.width>i.width&&(r.width=i.width),r.height>i.height&&(r.height=i.height)}return t.matrix.transformPoint(r.x,r.y,n._p1),t.matrix.transformPoint(r.x+r.width,r.y,n._p2),t.matrix.transformPoint(r.x+r.width,r.y+r.height,n._p3),t.matrix.transformPoint(r.x,r.y+r.height,n._p4),e.Rectangle.createFromPoints(t._drawRect,n._p1,n._p2,n._p3,n._p4),t._drawRect},n.prototype.updateMatrix=function(){var e=this,t=e._UI;if(e._cp)t.UM=t.UA=t.UF=!0,e._cp=!1;else if(e.parent){var n=e.parent._UI;n.UM&&(t.UM=!0),n.UA&&(t.UA=!0),n.UF&&(t.UF=!0)}if(t.UM&&(e._matrix.createBox(e._x,e._y,e._scaleX,e._scaleY,e._rotation,e._skewX,e._skewY,e._anchorX,e._anchorY),e.cMatrix.setFrom(e._matrix),e.parent&&e.cMatrix.prepend(e.parent.cMatrix)),t.UA&&(e.cAlpha=e._alpha,e.parent&&(e.cAlpha*=e.parent.cAlpha)),t.UF){e.cFilters.length=0;var r=e._filters;if(r)for(var i=r.length,o=0;o<i;o++)e.cFilters.push(r[o]);if(e.parent&&e.parent.cFilters.length>0)for(var i=e.parent.cFilters.length,a=e.parent.cFilters,o=i-1;o>=0;o--)e.cFilters.unshift(a[o])}},n.prototype.render=function(e){var t=this;if(t._visible&&(t.updateMatrix(),t.cAlpha>0)){var n=t.cFilters,r=n.length,i=-1;if(r)for(var o=0;o<r;o++)if("Shadow"==t.cFilters[o].type){i=o;break}if(i>=0){var a=e._ctx;a.shadowBlur=n[i].blur,a.shadowColor=n[i].color,a.shadowOffsetX=n[i].offsetX,a.shadowOffsetY=n[i].offsetY,e.draw(t),a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0}else e.draw(t)}},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(e){var t=this,n=t.width;if(e>0&&n>0){var r=e/n;t.scaleX*=r}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(e){var t=this,n=t.height;if(e>0&&n>0){var r=e/n;t.scaleY*=r}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var e=this;e.updateMatrix();var t=e.getDrawRect();return{width:t.width,height:t.height}},n.prototype._setProperty=function(e,t,n){var r=this;if(r[e]!=t){r[e]=t;var i=r._UI;0==n?i.UM=!0:1==n?i.UA=!0:2==n?i.UF=!0:3==n&&(i.UD=!0)}},n.prototype.stopAllSounds=function(){var e=this.soundList;if(e)for(var t=e.length-1;t>=0;t--)e[t].stop()},n.prototype.getSound=function(e){var t=this.soundList,n=[];if(t)if("string"==typeof e)for(var r=t.length-1;r>=0;r--)t[r].name==e&&n.push(t[r]);else e>=0&&e<t.length&&n.push(t[e]);return n},n.prototype.addSound=function(e){var t=this;t.soundList||(t.soundList=[]),t.soundList.push(e)},n.prototype.removeSound=function(e){var t=this.soundList;if(t)if("string"==typeof e)for(var n=t.length-1;n>=0;n--)t[n].name==e&&t.splice(e,1);else e>=0&&e<t.length&&t.splice(e,1)},n.prototype.destroy=function(){var e=this;e.stopDrag(),e.stopAllSounds();for(var n=0;n<e.soundList.length;n++)e.soundList[n].destroy();e._a2x_res_obj=null,e.mask=null,e.filters=null,e.parent=null,e.stage=null,e._bounds=null,e._drawRect=null,e._dragBounds=null,e._lastDragPoint=null,e.cFilters=null,e._matrix=null,e.cMatrix=null,e._UI=null,e._texture=null,e._visible=!1,t.prototype.destroy.call(this)},n.prototype.updateEventAndScript=function(t){var n=this;if(t<2){var r=n.soundList;if(0==t){if(r.length>0)for(var i=0;i<r.length;i++)r[i].stop2();n.dispatchEvent(e.Event.REMOVE_TO_STAGE)}else{if(r.length>0)for(var i=0;i<r.length;i++)r[i].play2();n.dispatchEvent(e.Event.ADD_TO_STAGE)}}else 2==t&&n.dispatchEvent(e.Event.ENTER_FRAME)},n._bp=new e.Point,n._p1=new e.Point,n._p2=new e.Point,n._p3=new e.Point,n._p4=new e.Point,n._canvas=window.document.createElement("canvas"),n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.call(this)||this;r._bitmapData=null,r._realCacheImg=null,r._rect=null,r._isCache=!1,r.hitTestWidthPixel=!1;var i=r;return i._instanceType="annie.Bitmap",i._rect=n,i.bitmapData=e,r}return __extends(n,t),Object.defineProperty(n.prototype,"rect",{get:function(){return this._rect},set:function(e){var t=this;t._rect=e,t._UI.UD=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(e){var t=this;t._setProperty("_bitmapData",e,3),e?(t._bounds.width=t._rect?t._rect.width:e.width,t._bounds.height=t._rect?t._rect.height:e.height):t._bounds.width=t._bounds.height=0},enumerable:!0,configurable:!0}),n.prototype.updateMatrix=function(){var e=this;t.prototype.updateMatrix.call(this);var n=e._bitmapData;if((e._UI.UD||e._UI.UF)&&n){if(0==n.width||0==n.height)return;if(e._UI.UD=!1,e.cFilters.length>0){e._realCacheImg||(e._realCacheImg=window.document.createElement("canvas"));var r=e._realCacheImg,i=e._rect,o=i?i.width:n.width,a=i?i.height:n.height,s=o+20,l=a+20;r.width=s,r.height=l;var u=r.getContext("2d");u.clearRect(0,0,s,l),u.translate(10,10),u.shadowBlur=0,u.shadowColor="#0",u.shadowOffsetX=0,u.shadowOffsetY=0,i?u.drawImage(e._bitmapData,i.x,i.y,o,a,0,0,o,a):u.drawImage(e._bitmapData,0,0);var c=e.cFilters,d=c.length;if(d>0){for(var p=u.getImageData(0,0,s,l),h=0;h<d;h++)c[h].drawFilter(p);u.putImageData(p,0,0)}e._texture=e._realCacheImg,e._offsetX=-10,e._offsetY=-10,e._isCache=!0}else e._isCache=!1,e._offsetX=0,e._offsetY=0,e._texture=n;var _=void 0,f=void 0;e._rect?(_=e._rect.width,f=e._rect.height):(_=e._texture.width+2*e._offsetX,f=e._texture.height+2*e._offsetY),e._bounds.width=_,e._bounds.height=f}e._UI.UF=!1,e._UI.UM=!1,e._UI.UA=!1},n.convertToImage=function(e,t){if(void 0===t&&(t=!0),e._rect){var n=window.document.createElement("canvas"),r=e._rect.width,i=e._rect.height;n.width=r,n.height=i;var o=n.getContext("2d"),a=e._rect;if(o.drawImage(e.bitmapData,a.x,a.y,r,i,0,0,r,i),t){var s=new Image;return s.src=n.toDataURL(),s}return n}return e.bitmapData},n.prototype.hitTestPoint=function(n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var o=this;if(t.prototype.hitTestPoint.call(this,n,r,i)){if(!o.hitTestWidthPixel)return o;var a=void 0;a=r?o.globalToLocal(n):n,a.x+=o._offsetX,a.y+=o._offsetY;var s=o._texture;if(!s||0==s.width||0==s.height)return null;var l=e.DisplayObject._canvas;l.width=1,l.height=1;var u=l.getContext("2d");if(u.clearRect(0,0,1,1),o._rect&&(a.x+=o._rect.x,a.y+=o._rect.y),u.setTransform(1,0,0,1,-a.x,-a.y),u.drawImage(s,0,0),u.getImageData(0,0,1,1).data[3]>0)return o}return null},n.prototype.destroy=function(){var e=this;e._bitmapData=null,e._realCacheImg=null,e._rect=null,t.prototype.destroy.call(this)},n}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._command=[],e.hitTestWidthPixel=!0,e.beginRadialGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},e.beginRadialGradientStroke=function(e,t,r,i,o,a){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),r,i,o,a)},e.decodePath=function(e){for(var t=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],r=e.length,i=0;i<r;i++)0==e[i]||1==e[i]?(t.addDraw(n[e[i]],[e[i+1],e[i+2]]),i+=2):(t.addDraw(n[e[i]],[e[i+1],e[i+2],e[i+3],e[i+4]]),i+=4)},e._instanceType="annie.Shape",e._texture=window.document.createElement("canvas"),e}return __extends(n,t),n.getGradientColor=function(t,r){var i,o=e.DisplayObject._canvas.getContext("2d");i=4==t.length?o.createLinearGradient(t[0],t[1],t[2],t[3]):o.createRadialGradient(t[0],t[1],0,t[2],t[3],t[4]);for(var a=0,s=r.length;a<s;a++)i.addColorStop(r[a][0],n.getRGBA(r[a][1],r[a][2]));return i},n.getBitmapStyle=function(t){return e.DisplayObject._canvas.getContext("2d").createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){e="rgba("+parseInt("0x"+e.substr(1,2))+","+parseInt("0x"+e.substr(3,2))+","+parseInt("0x"+e.substr(5,2))+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._UI.UD=!0,n._command[n._command.length]=[1,e,t]},n.prototype.drawRoundRect=function(e,t,n,r,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=(n<r?n:r)/2,u=0,c=0,d=0,p=0;i<0&&(i*=u=-1),i>l&&(i=l),o<0&&(o*=c=-1),o>l&&(o=l),s<0&&(s*=d=-1),s>l&&(s=l),a<0&&(a*=p=-1),a>l&&(a=l);var h=this._command;h[h.length]=[1,"moveTo",[e+n-o,t]],h[h.length]=[1,"arcTo",[e+n+o*c,t-o*c,e+n,t+o,o]],h[h.length]=[1,"lineTo",[e+n,t+r-s]],h[h.length]=[1,"arcTo",[e+n+s*d,t+r+s*d,e+n-s,t+r,s]],h[h.length]=[1,"lineTo",[e+a,t+r]],h[h.length]=[1,"arcTo",[e-a*p,t+r+a*p,e,t+r-a,a]],h[h.length]=[1,"lineTo",[e,t+i]],h[h.length]=[1,"arcTo",[e-i*u,t-i*u,e+i,t,i]],h[h.length]=[1,"closePath",[]]},n.prototype.moveTo=function(e,t){this._command[this._command.length]=[1,"moveTo",[e,t]]},n.prototype.lineTo=function(e,t){this._command[this._command.length]=[1,"lineTo",[e,t]]},n.prototype.arcTo=function(e,t){this._command[this._command.length]=[1,"arcTo",[e,t]]},n.prototype.quadraticCurveTo=function(e,t,n,r){this._command[this._command.length]=[1,"quadraticCurveTo",[e,t,n,r]]},n.prototype.bezierCurveTo=function(e,t,n,r,i,o){this._command[this._command.length]=[1,"bezierCurveTo",[e,t,n,r,i,o]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(e,t,n,r){var i=this._command;i[i.length]=[1,"moveTo",[e,t]],i[i.length]=[1,"lineTo",[e+n,t]],i[i.length]=[1,"lineTo",[e+n,t+r]],i[i.length]=[1,"lineTo",[e,t+r]],i[i.length]=[1,"closePath",[]]},n.prototype.drawArc=function(e,t,n,r,i){this._command[this._command.length]=[1,"arc",[e,t,n,r/180*Math.PI,i/180*Math.PI]]},n.prototype.drawCircle=function(e,t,n){this._command[this._command.length]=[1,"arc",[e,t,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(e,t,n,r){var i=.5522848,o=n/2*i,a=r/2*i,s=e+n,l=t+r,u=e+n/2,c=t+r/2,d=this._command;d[d.length]=[1,"moveTo",[e,c]],d[d.length]=[1,"bezierCurveTo",[e,c-a,u-o,t,u,t]],d[d.length]=[1,"bezierCurveTo",[u+o,t,s,c-a,s,c]],d[d.length]=[1,"bezierCurveTo",[s,c+a,u+o,l,u,l]],d[d.length]=[1,"bezierCurveTo",[u-o,l,e,c+a,e,c]]},n.prototype.clear=function(){var e=this;e._command=[],e._UI.UD=!0,e._texture&&(e._texture.width=0,e._texture.height=0),e._offsetX=0,e._offsetY=0,e._bounds.width=0,e._bounds.height=0},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},n.prototype.beginBitmapFill=function(e,t){var r=this;t&&(r._isBitmapFill=t),r._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this,n=t._command;n[n.length]=[0,"fillStyle",e],n[n.length]=[1,"beginPath",[]],t._UI.UD=!0},n.prototype.beginStroke=function(e,t,n,r,i){void 0===t&&(t=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),this._stroke(e,t,n,r,i)},n.prototype.beginLinearGradientStroke=function(e,t,r,i,o,a){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),r,i,o,a)},n.prototype.beginBitmapStroke=function(e,t,r,i,o,a){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),r,i,o,a)},n.prototype._stroke=function(e,t,r,i,o){var a=this._command;a[a.length]=[0,"lineWidth",t],a[a.length]=[0,"lineCap",n._caps[r]],a[a.length]=[0,"lineJoin",n._joins[i]],a[a.length]=[0,"miterLimit",o],a[a.length]=[0,"strokeStyle",e],a[a.length]=[1,"beginPath",[]],this._UI.UD=!0},n.prototype.endFill=function(){var e=this,t=e._command,n=e._isBitmapFill;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"fill",[]],n&&(e._isBitmapFill=null)},n.prototype.setLineDash=function(e){void 0===e&&(e=[]);var t=this._command;t[t.length]=[1,"setLineDash",[e,0]]},n.prototype.endStroke=function(){var e=this,t=e._command,n=e._isBitmapStroke;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"stroke",[]],n&&(e._isBitmapStroke=null)},n.prototype.updateMatrix=function(){var e=this;if(t.prototype.updateMatrix.call(this),e._UI.UD||e._UI.UF){var n=e._command.length,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(n>0){var l=void 0,u=0,c=0,d=0;for(s=0;s<n;s++)if(l=e._command[s],1==l[0]){if("moveTo"==l[1]||"lineTo"==l[1]||"arcTo"==l[1]||"bezierCurveTo"==l[1])void 0==r&&(r=l[2][0]),void 0==i&&(i=l[2][1]),void 0==o&&(o=l[2][0]),void 0==a&&(a=l[2][1]),"bezierCurveTo"==l[1]?(r=Math.min(r,l[2][0],l[2][2],l[2][4]),i=Math.min(i,l[2][1],l[2][3],l[2][5]),o=Math.max(o,l[2][0],l[2][2],l[2][4]),a=Math.max(a,l[2][1],l[2][3],l[2][5]),u=l[2][4],c=l[2][5]):(r=Math.min(r,l[2][0]),i=Math.min(i,l[2][1]),o=Math.max(o,l[2][0]),a=Math.max(a,l[2][1]),u=l[2][0],c=l[2][1]);else if("quadraticCurveTo"==l[1]){var p=.5*(u+l[2][0]),h=.5*(c+l[2][1]),_=.5*(l[2][0]+l[2][2]),f=.5*(l[2][1]+l[2][3]);void 0==r&&(r=p),void 0==i&&(i=h),void 0==o&&(o=p),void 0==a&&(a=h),r=Math.min(r,p,_,l[2][2]),i=Math.min(i,h,f,l[2][3]),o=Math.max(o,p,_,l[2][2]),a=Math.max(a,h,f,l[2][3]),u=l[2][2],c=l[2][3]}else if("arc"==l[1]){var v=l[2][0],g=l[2][1],y=l[2][2],m=v-y,b=g-y,x=v+y,E=g+y;void 0==r&&(r=m),void 0==i&&(i=b),void 0==o&&(o=x),void 0==a&&(a=E),r=Math.min(r,m),i=Math.min(i,b),o=Math.max(o,x),a=Math.max(a,E)}}else"lineWidth"==l[1]&&d<l[2]&&(d=l[2]);if(void 0!=r||d>0){void 0==r&&(r=0,i=0),r-=20+d>>1,i-=20+d>>1,o+=20+d>>1,a+=20+d>>1;var w=o-r,T=a-i;if(e._offsetX=r,e._offsetY=i,e._bounds.x=r+10,e._bounds.y=i+10,e._bounds.width=w-20,e._bounds.height=T-20,!e._isUseToMask){var P=e._texture,M=P.getContext("2d");P.width=w,P.height=T,M.clearRect(0,0,w,T),M.setTransform(1,0,0,1,-r,-i),e._draw(M);var C=e.cFilters,L=C.length;if(L>0){for(var O=M.getImageData(0,0,w,T),A=0;A<L;A++)C[A].drawFilter(O);M.putImageData(O,0,0)}}}}e._UI.UD=!1}e._UI.UM=!1,e._UI.UA=!1,e._UI.UF=!1},n.prototype._draw=function(e,t){void 0===t&&(t=!1);var n,r=this,i=r._command,o=i.length,a=r._offsetX,s=r._offsetY,l=!1;t&&e.beginPath();for(var u=0;u<o;u++)if(n=i[u],n[0]>0){var c=n[2].length;if(t&&(l||"beginPath"==n[1]||"closePath"==n[1]||0==c))continue;if(0==c)e[n[1]]();else if(2==c)e[n[1]](n[2][0],n[2][1]);else if(4==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==c){var d=n[2][4],p=n[2][5];2==n[0]&&(d-=a,p-=s),e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],d,p)}}else t?"strokeStyle"==n[1]?l=!0:"fillStyle"==n[1]&&(l=!1):e[n[1]]=n[2];t&&e.closePath()},n.prototype.hitTestPoint=function(n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var o=this;if(t.prototype.hitTestPoint.call(this,n,r,i)){if(o._isUseToMask||!o.hitTestWidthPixel)return o;var a=void 0;a=r?o.globalToLocal(n):n;var s=o._texture;if(!s||0==s.width||0==s.height)return null;var l=e.DisplayObject._canvas;l.width=1,l.height=1,a.x-=o._offsetX,a.y-=o._offsetY;var u=l.getContext("2d");if(u.clearRect(0,0,1,1),u.setTransform(1,0,0,1,-a.x,-a.y),u.drawImage(s,0,0),u.getImageData(0,0,1,1).data[3]>0)return o}return null},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,r=t._command,i=0;i<n;i++)0==r[i][0]&&("fillStyle"==r[i][1]&&e.fillColor&&r[i][2]!=e.fillColor&&(r[i][2]=e.fillColor,t._UI.UD=!0),"strokeStyle"==r[i][1]&&e.strokeColor&&r[i][2]!=e.strokeColor&&(r[i][2]=e.strokeColor,t._UI.UD=!0),"lineWidth"==r[i][1]&&e.lineWidth&&r[i][2]!=e.lineWidth&&(r[i][2]=e.lineWidth,t._UI.UD=!0))},n.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(e.DisplayObject);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.mouseChildren=!0,e.children=[],e._removeChildren=[],e._updateState=0,e._instanceType="annie.Sprite",e}return __extends(n,t),n.prototype.destroy=function(){for(var e=this,r=0;r<e.children.length;r++)e.children[r].destroy();e.parent&&n._removeFormParent(e.parent,e),e.children.length=0,e._removeChildren.length=0,t.prototype.destroy.call(this)},Object.defineProperty(n.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){var n=this;n._texture||(n._texture=new Image),t?n._texture.src=e.toDisplayCache(n):(n._texture.src="",n._offsetX=0,n._offsetY=0),n._cacheAsBitmap=t},enumerable:!0,configurable:!0}),n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,r=0;r<n;r++)if(t.children[r]==e){t.removeChildAt(r);break}},n._getElementsByName=function(e,t,r,i,o){var a=t.children.length;if(a>0)for(var s,l=void 0,u=0;u<a;u++){if(l=t.children[u],(s=l.name)&&""!=s&&e.test(s)&&(o[o.length]=l,r))return;i&&null!=l.children&&n._getElementsByName(e,l,r,i,o)}},n.prototype.getChildByName=function(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r=!1),!e)return null;var i,o=this;i="string"==typeof e?new RegExp("^"+e+"$"):e;var a=[];n._getElementsByName(i,o,t,r,a);var s=a.length;return 0==s?null:1==s?a[0]:a},n.prototype.addChildAt=function(e,t){if(e){var r,i=this,o=e.parent;o&&n._removeFormParent(o,e),r=i.children.length,t>=r?i.children[r]=e:0==t?i.children.unshift(e):i.children.splice(t,0,e),o!=i&&(e._cp=!0,e.stage=null,e.parent=i,i.stage&&1==i._updateState&&(i.stage.isReUpdate=!0))}},n._removeFormParent=function(e,t){for(var n=e.children,r=n.length,i=!1,o=0;o<r;o++)if(n[o]==t){n.splice(o,1),i=!0;break}if(!i){n=e._removeChildren,r=n.length;for(var o=0;o<r;o++)if(n[o]==t){n.splice(o,1);break}}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this,n=t.children.length,r=0;r<n;r++)if(t.children[r]==e)return r;return-1},n.prototype.swapChild=function(e,t){var n=this,r=-1,i=-1,o=n.children.length;if(r="number"==typeof e?e:n.getChildIndex(e),i="number"==typeof t?t:n.getChildIndex(t),r==i||r<0||r>=o||i<0||i>=o)return!1;var a=n.children[r];return n.children[r]=n.children[i],n.children[i]=a,!0},n.prototype.removeChildAt=function(e){var t,n=this,r=n.children.length-1;r<0||(t=e==r?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],n._removeChildren.push(t))},
n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.hitTestPoint=function(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=this;if(!i.visible||!i.mouseEnable&&r)return null;if(i._cacheAsBitmap){var o=void 0;o=n?i.globalToLocal(t):t,o.x+=i._offsetX,o.y+=i._offsetY;var a=i._texture;if(!a||0==a.width||0==a.height)return null;var s=e.DisplayObject._canvas;s.width=1,s.height=1;var l=s.getContext("2d");if(l.clearRect(0,0,1,1),l.setTransform(1,0,0,1,-o.x,-o.y),l.drawImage(a,0,0),l.getImageData(0,0,1,1).data[3]>0)return i}else for(var u=i.children.length,c=void 0,d=void 0,p=u-1;p>=0;p--)if(d=i.children[p],!(d._isUseToMask>0)&&(!d.mask||d.mask.parent!=d.parent||d.mask.hitTestPoint(t,n,r))&&(c=d.hitTestPoint(t,n,r)))return c;return null},n.prototype.getBounds=function(){var t=this,n=t._bounds;if(n.x=0,n.y=0,n.width=0,n.height=0,t._cacheAsBitmap)t._texture&&(n.x=t._offsetX,n.y=t._offsetY,n.width=t._texture.width,n.height=t._texture.height);else{var r=t.children.length;if(r>0){for(var i=0;i<r;i++)t.children[i].visible&&e.Rectangle.createFromRects(n,t.children[i].getDrawRect());if(t.mask&&t.mask.parent==t.parent){var o=t.mask.getDrawRect();n.x<o.x&&(n.x=o.x),n.y<o.y&&(n.y=o.y),n.width>o.width&&(n.width=o.width),n.height>o.height&&(n.height=o.height)}}}return n},n.prototype.getWH=function(){for(var e=this,n=e.children.length,r=0;r<n;r++)e.children[r].updateMatrix();return t.prototype.getWH.call(this)},n.prototype.render=function(e){var n=this;if(n._updateState=0,n._visible)if(n._cacheAsBitmap)t.prototype.render.call(this,e);else{n.updateMatrix();for(var r=void 0,i=void 0,o=n.children.length,a=0;a<o;a++)i=n.children[a],i._isUseToMask>0||(r?i.mask&&i.mask.parent==i.parent?i.mask!=r&&(e.endMask(),r=i.mask,e.beginMask(r)):(e.endMask(),r=null):i.mask&&i.mask.parent==i.parent&&(r=i.mask,e.beginMask(r)),i.render(e));r&&e.endMask(),n._UI.UF=!1,n._UI.UM=!1,n._UI.UA=!1}},n.prototype.updateEventAndScript=function(e){var n=this;if(n._visible&&(t.prototype.updateEventAndScript.call(this,e),!n._cacheAsBitmap)){n._updateState=1;var r=null,i=null,o=0;if(0==e){i=n.children,o=i.length;for(var a=o-1;a>=0;a--)(r=i[a])&&r.stage&&(r.updateEventAndScript(e),r.stage=null)}else if(1==e){i=n.children,o=i.length;for(var a=o-1;a>=0;a--)(r=i[a])&&!r.stage&&(r.stage=n.stage,r.updateEventAndScript(e))}else{i=n.children,o=i.length;for(var a=o-1;a>=0;a--)(r=i[a])&&(r.stage?r.updateEventAndScript(e):(r.stage=n.stage,r.updateEventAndScript(1)))}for(i=n._removeChildren,o=i.length;o>0;)r=i.shift(),r.updateEventAndScript(0),r.stage=null,r.parent=null,o=i.length}},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){var r=e.call(this)||this;r.media=null,r.type="",r.isPlaying=!0,r.name="",r._loop=1,r._repeate=1;var i=r;return i._instanceType="annie.Media","string"==typeof t?(i.media=document.createElement(n),i.media.src=t):i.media=t,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",i._endEvent=function(){-1==i._loop?i.play(0):(i._loop--,i._loop>0?i.play(0,i._loop):i.stop()),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",i._updateEvent=function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",i._playEvent=function(){i.dispatchEvent("onPlayStart")}),r}return __extends(t,e),t.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this;0==t?n._loop=n._repeate:(n._loop=t,n._repeate=t),n.media.currentTime!=e&&(n.media.currentTime=e);var r=window;if(r.WeixinJSBridge)try{r.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(e){n.media.play()}else n.media.play();n.isPlaying=!0},t.prototype._weixinSB=function(){this.media.play()},t.prototype.stop=function(){var e=this;e.media.pause(),e.media.currentTime=0,e.isPlaying=!1},t.prototype.pause=function(e){void 0===e&&(e=!0);var t=this;e?(t.media.pause(),t.isPlaying=!1):(t.media.play(),t.isPlaying=!0)},Object.defineProperty(t.prototype,"volume",{get:function(){return this.media.volume},set:function(e){var t=this;t.media.volume=e,t.media.muted=0==e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t=this;t.media.pause(),t.media.removeEventListener("ended",t._endEvent),t.media.removeEventListener("onPlayStart",t._playEvent),t.media.removeEventListener("timeupdate",t._updateEvent),t.media=null,e.prototype.destroy.call(this)},t}(e.EventDispatcher);e.Media=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(r){var i=t.call(this,r,"Audio")||this,o=i;return o._instanceType="annie.Sound",e.Sound._soundList.push(o),o.volume=n._volume,i}return __extends(n,t),n.prototype.destroy=function(){for(var n=e.Sound._soundList.length,r=n-1;r>=0;r--)e.Sound._soundList[r]&&e.Sound._soundList[r]!=this||e.Sound._soundList.splice(r,1);t.prototype.destroy.call(this)},n.prototype.stop2=function(){var e=this;e.isPlaying&&e.media.pause()},n.prototype.play2=function(){var e=this;e.isPlaying&&e.play()},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop2():e.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].play2():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var r=e.Sound._soundList.length,i=r-1;i>=0;i--)e.Sound._soundList[i]?e.Sound._soundList[i].volume=t:e.Sound._soundList.splice(i,1);n._volume=t},n._soundList=[],n._volume=1,n}(e.Media);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=e.call(this,t,"Video")||this,o=i;return o._instanceType="annie.Video",o.media.setAttribute("playsinline","true"),o.media.setAttribute("webkit-playsinline","true"),o.media.setAttribute("x-webkit-airplay","true"),o.media.setAttribute("x5-video-player-type","h5"),o.media.poster="",o.media.preload="auto",o.media.controls=!1,n&&r&&(o.media.width=n,o.media.height=r),i}return __extends(t,e),t}(e.Media);e.Video=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._curFrame=1,e._wantFrame=0,e._lastFrameObj=null,e._isPlaying=!0,e._isFront=!0,e._lastFrame=0,e._a2x_res_class={tf:1},e._a2x_res_children=[],e._a2x_script=null,e._mode=-2,e._clicked=!1,e.isUpdateFrame=!1,e._a2x_sounds=null,e._frameState=0,e._instanceType="annie.MovieClip",e}return __extends(n,t),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var e=this;return e._wantFrame>0?e._wantFrame:e._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){this._isPlaying=!1},n.prototype.addFrameScript=function(e,t){var n=this;void 0==n._a2x_script&&(n._a2x_script={}),n._a2x_script[e]=t},n.prototype.removeFrameScript=function(e){var t=this;void 0!=t._a2x_script&&(t._a2x_script[e]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var e=this;-1!=e._mode&&e._a2x_res_class.tf>1&&(e.mouseChildren=!1,e.addEventListener("onMouseDown",e._mouseEvent.bind(e)),e.addEventListener("onMouseUp",e._mouseEvent.bind(e)),e.addEventListener("onMouseOut",e._mouseEvent.bind(e)),e.gotoAndStop(1),e._mode=-1)},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(e){var t=this;e!=t._clicked&&(e?t._mouseEvent({type:"onMouseDown"}):t.gotoAndStop(1),t._clicked=e)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(e){var t=this;if(!t._clicked){var n=2;"onMouseDown"==e.type?t._curFrame>2&&(n=3):n=1,t.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var e=this;return e._a2x_res_class.tf>1&&e._a2x_res_class.l[e._curFrame-1]?e._a2x_res_class.l[e._curFrame-1]:null},n.prototype.nextFrame=function(){var e=this;0==e._wantFrame&&(e._wantFrame=e._curFrame),e._wantFrame<e.totalFrames&&(e._wantFrame+=1),e._isPlaying=!1,e.stage&&1==e._frameState&&!e.isSameFrame()&&(e.stage.isReUpdate=!0)},n.prototype.prevFrame=function(){var e=this;0==e._wantFrame&&(e._wantFrame=e._curFrame),e._wantFrame>1&&(e._wantFrame-=1),e._isPlaying=!1,e.stage&&1==e._frameState&&!e.isSameFrame()&&(e.stage.isReUpdate=!0)},n.prototype.isSameFrame=function(){var e=this;return(0==e._wantFrame?e._curFrame:e._wantFrame)==e._lastFrame},n.prototype.gotoAndStop=function(e){var t=this;t._isPlaying=!1;var n=t._a2x_res_class;"string"==typeof e?e=void 0!=n.label[e]?n.label[e]:t._curFrame:"number"==typeof e&&(e>n.tf&&(e=n.tf),e<1&&(e=1)),t._wantFrame=e,t.stage&&1==t._frameState&&!t.isSameFrame()&&(t.stage.isReUpdate=!0)},n.prototype.play=function(e){void 0===e&&(e=!0);var t=this;t._isPlaying=!0,t._isFront=e},n.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this;n._isFront=t,n._isPlaying=!0;var r=n._a2x_res_class;"string"==typeof e?e=void 0!=r.label[e]?r.label[e]:n._curFrame:"number"==typeof e&&(e>r.tf&&(e=r.tf),e<1&&(e=1)),n._wantFrame=e,n.stage&&1==n._frameState&&!n.isSameFrame()&&(n.stage.isReUpdate=!0)},n.prototype.updateFrame=function(){var t=this;if(!t._cacheAsBitmap&&t._a2x_res_class.tf>1&&(t._mode>=0?(t._isPlaying=!1,t._curFrame=t.parent._curFrame-t._mode):0!=t._wantFrame&&(t._curFrame=t._wantFrame,t._wantFrame=0),t._lastFrame==t._curFrame&&t._isPlaying&&0==t._frameState&&(t._isFront?++t._curFrame>t._a2x_res_class.tf&&(t._curFrame=1):--t._curFrame<1&&(t._curFrame=t._a2x_res_class.tf)),t._frameState=1,t._lastFrame!=t._curFrame)){t._mode<0&&(t.isUpdateFrame=!0),t._lastFrame=t._curFrame;var r=t._a2x_res_class,i=t._a2x_res_children,o=i.length,a=0,s=null,l=null,u=r.f[r.timeLine[t._curFrame-1]];if(t._lastFrameObj!=u){t._lastFrameObj=u,t.children.length=0,t._removeChildren.length=0;for(var c=null,d=-1,p=o-1;p>=0;p--)a=i[p][0],s=i[p][1],l=u&&u.c?u.c[a]:null,l&&e.d(s,l),l||0==a?(void 0!=l.ma?(c=s,d=l.ma):c&&(s.mask=c,a==d&&(c=null)),t.children.unshift(s),s.parent&&t.parent==t||(s._cp=!0,s.parent=t)):s.parent&&(t._removeChildren.push(s),n._resetMC(s))}if(t.isUpdateFrame){var h=t._a2x_res_class;t.isUpdateFrame=!1;var _=t._curFrame-1,f=void 0,v=!1,g=t._isFront;if(t._a2x_script&&void 0!=(f=t._a2x_script[_])&&(null!=f&&f(),v=!0),v||(f=h.a[_])&&t[f[0]](void 0==f[1]||f[1],void 0==f[2]||f[2]),t.hasEventListener(e.Event.CALL_FRAME)&&(f=h.e[_]))for(var p=0;p<f.length;p++)t.dispatchEvent(e.Event.CALL_FRAME,{frameIndex:t._curFrame,frameName:f[p]});(1==t._curFrame&&!g||t._curFrame==t._a2x_res_class.tf&&g)&&t.hasEventListener(e.Event.END_FRAME)&&t.dispatchEvent(e.Event.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"});var y=h.s[_];if(y)for(var m in y)t._a2x_sounds[m-1].play(0,y[m])}}},n.prototype.updateEventAndScript=function(e){var n=this;n._visible&&(n.updateFrame(),t.prototype.updateEventAndScript.call(this,e))},n._resetMC=function(e){var t=!1;if("annie.MovieClip"==e._instanceType?(e._wantFrame=1,e._lastFrame=0,e._isFront=!0,e._mode<-1?e._isPlaying=!0:e._isPlaying=!1,t=!0):"annie.Sprite"==e._instanceType&&(t=!0),t)for(var r=0;r<e.children.length;r++)n._resetMC(e.children[r])},n.prototype.render=function(e){this._frameState=0,t.prototype.render.call(this,e)},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),e._lastFrameObj=null,e._a2x_script=null,e._a2x_res_children=null,e._a2x_res_class=null,e._a2x_sounds=null},n}(e.Sprite);e.MovieClip=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.htmlElement=null,n._isAdded=!1;var r=n;return r._instanceType="annie.FloatDisplay",r.addEventListener(e.Event.REMOVE_TO_STAGE,function(e){r.htmlElement&&(r.htmlElement.style.display="none")}),r.addEventListener(e.Event.ADD_TO_STAGE,function(e){if(r.htmlElement){var t=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(t.display="inline"):(r._isAdded=!0,r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]),r.stage._floatDisplayList.push(r))}}),n}return __extends(n,t),n.prototype.init=function(e){var t,n=this;t="string"==typeof e?document.getElementById(e):"annie.Video"==e._instanceType?e.media:e;var r=t.style;r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin="0 0 0";var i=n.getStyle(t,"width"),o=n.getStyle(t,"height"),a=0,s=0;i.indexOf("px")&&(a=parseInt(i)),o.indexOf("px")&&(s=parseInt(o)),n._bounds.width=a,n._bounds.height=s,n.htmlElement=t},n.prototype.getStyle=function(e,t){if(e.style[t])return e.style[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return null},n.prototype.updateStyle=function(){var t=this,n=t.htmlElement;if(n){var r=n.style,i=t._visible;if(i)if(t.stage)for(var o=t.parent;o;){if(!o._visible){i=!1;break}o=o.parent}else i=!1;var a=i?"inline":"none";if(a!=r.display&&(r.display=a),i||t._UI.UM||t._UI.UA||t._UI.UF){if(t._UI.UM){var s=t.cMatrix,l=e.devicePixelRatio;r.transform=r.webkitTransform="matrix("+(s.a/l).toFixed(4)+","+(s.b/l).toFixed(4)+","+(s.c/l).toFixed(4)+","+(s.d/l).toFixed(4)+","+(s.tx/l).toFixed(4)+","+(s.ty/l).toFixed(4)+")"}t._UI.UA&&(r.opacity=t.cAlpha),t._UI.UF=!1,t._UI.UM=!1,t._UI.UA=!1}}},n.prototype.destroy=function(){var e=this,n=e.htmlElement;n&&(n.style.display="none",n.parentNode&&n.parentNode.removeChild(n),e._isAdded=!1,e.htmlElement=null);for(var r=e.stage._floatDisplayList,i=r.length,o=0;o<i;o++)if(r[o]==e){r.splice(o,1);break}t.prototype.destroy.call(this)},n}(e.DisplayObject);e.FloatDisplay=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._textAlign="left",e._textAlpha=1,e._textHeight=0,e._lineHeight=14,e._textWidth=120,e._lineType="single",e._text="",e._font="Arial",e._size=12,e._color="#fff",e._italic=!1,e._bold=!1,e._border=!1,e._stroke=0,e._strokeColor="#000",e.realLines=[],e._instanceType="annie.TextField",e._texture=window.document.createElement("canvas"),e}return __extends(n,t),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._setProperty("_textAlign",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(e){this._setProperty("_textAlpha",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(e){this._setProperty("_textHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._setProperty("_lineHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(e){this._setProperty("_textWidth",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(e){this._setProperty("_lineType",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){this._setProperty("_text",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){this._setProperty("_font",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._setProperty("_size",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){this._setProperty("_color",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(e){this._setProperty("_italic",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(e){this._setProperty("_bold",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(e){this._setProperty("_border",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._setProperty("_stroke",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){this._setProperty("_strokeColor",e,3)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(t){var n=this,r=n.size||12;r+="px ",r+=n.font,n._bold&&(r="bold "+r),n._italic&&(r="italic "+r),t.font=r,t.textAlign=n._textAlign||"left",t.textBaseline="top",t.lineJoin="miter",t.miterLimit=2.5,t.fillStyle=e.Shape.getRGBA(n._color,n._textAlpha),t.strokeStyle=n.strokeColor,t.lineWidth=Math.abs(n._stroke)},n.prototype.getTextWidth=function(e){void 0===e&&(e=0);var t=this;return t.updateMatrix(),t._texture.getContext("2d").measureText(t.realLines[e]).width},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(e){return this._texture.getContext("2d").measureText(e).width},n.prototype.updateMatrix=function(){t.prototype.updateMatrix.call(this);var e=this;if(e._UI.UD||e._UI.UF){e._text+="";var n=e._texture,r=n.getContext("2d"),i=e._text.toString().split(/(?:\r\n|\r|\n)/),o=[];e.realLines=o,e._prepContext(r);var a=0,s=e._lineHeight;if(e._text.indexOf("\n")<0&&"single"==e.lineType){o[o.length]=i[0];var l=i[0];if(e._getMeasuredWidth(l)>e._textWidth)for(var u=e._getMeasuredWidth(l[0]),c=l[0],d=l.length,p=1;p<d;p++){if(a=r.measureText(l[p]).width,(u+=a)>e._textWidth){o[0]=c;break}c+=l[p]}}else for(var h=0,_=i.length;h<_;h++){var l=i[h];if(l){for(var u=e._getMeasuredWidth(l[0]),c=l[0],d=l.length,p=1;p<d;p++)a=r.measureText(l[p]).width,u+=a,u>e._textWidth?(o[o.length]=c,c=l[p],u=a):c+=l[p];o[o.length]=c}}var f=s*o.length,v=e._textWidth,g=0;"center"==e._textAlign?g=.5*v:"right"==e._textAlign&&(g=v),n.width=v+20,n.height=f+20,r.clearRect(0,0,n.width,n.width),e.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,v,f),r.closePath()),r.setTransform(1,0,0,1,g+10,10),e._prepContext(r);for(var h=0;h<o.length;h++)e._stroke>0&&r.strokeText(o[h],0,h*s,v),r.fillText(o[h],0,h*s,v),e._stroke<0&&r.strokeText(o[h],0,h*s,v);var y=e.cFilters,m=y.length;if(m>0){for(var b=r.getImageData(0,0,v,f),h=0;h<m;h++)y[h].drawFilter(b);r.putImageData(b,0,0)}e._offsetX=-10,e._offsetY=-10,e._UI.UD=!1,e._bounds.height=f,e._bounds.width=v}e._UI.UM=!1,e._UI.UA=!1,e._UI.UF=!1},n}(e.DisplayObject);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(r){void 0===r&&(r=0);var i=t.call(this)||this;i.inputType=0,i.isAutoDownKeyBoard=!0,i._size=14,i._font="Arial";var o=null,a=i;a._instanceType="annie.InputText",r<2?(o=document.createElement("input"),o.type=n._inputTypeList[r]):(o=document.createElement("textarea"),o.style.resize="none",o.style.overflow="hidden"),a.inputType=r;var s=function(){a.isAutoDownKeyBoard&&"pc"!=e.osType&&a.htmlElement&&a.htmlElement.blur()}.bind(a);return a.addEventListener(e.Event.REMOVE_TO_STAGE,function(t){a.stage.removeEventListener(e.MouseEvent.MOUSE_UP,s)}),a.addEventListener(e.Event.ADD_TO_STAGE,function(t){a.stage.addEventListener(e.MouseEvent.MOUSE_UP,s)}),a.init(o),i}return __extends(n,t),n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000",n.htmlElement.onblur=function(){document.body.scrollTop=0}},n.prototype.initInfo=function(e,t,n,r,i,o,a){var s=this;s.htmlElement.placeholder=e,s.htmlElement.style.font=r+"px "+i,s._size=r,s._font=i,s.htmlElement.style.color=t,s.htmlElement.style.textAlign=n,s.border=o,2==s.inputType&&(s.htmlElement.style.lineHeight=a+"px")},Object.defineProperty(n.prototype,"lineHeight",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(e){this.htmlElement.style.lineHeight=e+"px",this.htmlElement.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(e){var t=this.htmlElement.style;t.fontWeight=e?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){var t=this;t._size!=e&&(t._size=e,t.htmlElement.style.font=e+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){var t=this;e!=t._font&&(t._font=e,t.htmlElement.style.font=t._size+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(e){var t=this.htmlElement.style;t.fontStyle=e?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(e){this.htmlElement.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(e){this.htmlElement.style.width=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(e){this.htmlElement.style.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(e){var t=this;e?(t.htmlElement.style.borderStyle="inset",t.htmlElement.style.backgroundColor="#fff"):(t.htmlElement.style.borderStyle="none",t.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=this;if(e.htmlElement)return e.htmlElement.value},set:function(e){var t=this;t.htmlElement&&(t.htmlElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var e=this.htmlElement.getAttribute("maxlength");return null===e?0:e},set:function(e){this.htmlElement.setAttribute("maxlength",e)},enumerable:!0,configurable:!0}),n._inputTypeList=["input","password","textarea"],n}(e.FloatDisplay);e.InputText=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(r,i,o,a,s,l){void 0===r&&(r="annieEngine"),void 0===i&&(i=640),void 0===o&&(o=1040),void 0===a&&(a=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0);var u=t.call(this)||this;if(u.iosTouchendPreventDefault=!0,u.isPreventDefaultEvent=!0,u.rootDiv=null,u.renderObj=null,u.renderType=0,u.viewRect=new e.Rectangle,u.isMultiTouch=!1,u.isMultiMouse=!1,u.autoSteering=!1,u.autoResize=!1,u.desWidth=0,u.desHeight=0,u.divHeight=0,u.divWidth=0,u._bgColor=-1,u._bgColorStr="rgba(0,0,0,0)",u._bgColorRGBA={r:0,g:0,b:0,a:0},u._scaleMode="onScale",u._flush=0,u._currentFlush=0,u._lastDpList={},u._floatDisplayList=[],u._ml=[],u._mp=[],u._mouseDownPoint={},u.isReUpdate=!1,u._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"},u.muliPoints=[],u._mP1=new e.Point,u._mP2=new e.Point,u.mouseEvent=null,u.resize=function(){var e=this;if(0==e.divWidth||0==e.divHeight){var t=e.getRootDivWH(e.rootDiv);if(0==t.w||0==t.h)return;e._UI.UM=!0,e.divHeight=t.h,e.divWidth=t.w,e.renderObj.reSize(),e.setAlign(),e.dispatchEvent("onInitStage")}else if(e.autoResize){var t=e.getRootDivWH(e.rootDiv);e.divWidth==t.w&&e.divHeight==t.h||(e._UI.UM=!0,e.divHeight=t.h,e.divWidth=t.w,e.renderObj.reSize(),e.setAlign(),e.dispatchEvent("onResize"))}},e.debug&&!n._isLoadedVConsole){n._isLoadedVConsole=!0;var c=document.createElement("script");c.onload=function(){new VConsole,c.onload=null},document.head.appendChild(c),c.src="libs/vconsole.min.js"}var d=u;d._instanceType="annie.Stage",d.stage=d,d.name="stageInstance_"+d.instanceId;var p=document.getElementById(r);d.renderType=l,d.desWidth=i,d.desHeight=o,d.rootDiv=p,d.setFrameRate(a),d._scaleMode=s,d.anchorX=i>>1,d.anchorY=o>>1,d.renderObj=0==l?new e.CanvasRender(d):new e.WebGLRender(d);var h=d.rootDiv;return d.mouseEvent=d.onMouseEvent.bind(d),"pc"==e.osType&&(h.addEventListener("mousedown",d.mouseEvent,!1),h.addEventListener("mousemove",d.mouseEvent,!1),h.addEventListener("mouseup",d.mouseEvent,!1)),"ontouchstart"in h&&(h.addEventListener("touchstart",d.mouseEvent,!1),h.addEventListener("touchmove",d.mouseEvent,!1),h.addEventListener("touchend",d.mouseEvent,!1)),d.renderObj.init(),n.addUpdateObj(d),u}return __extends(n,t),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(t){var r=n;t!=r._pause&&(r._pause=t,t?e.Sound.stopAllSounds():e.Sound.resumePlaySounds(),e.globalDispatcher.dispatchEvent("onRunChanged",{pause:t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bgColor",{get:function(){return this._bgColor},set:function(e){if(e!=this._bgColor){this._bgColor=e;var t=e>>24&255,n=e>>16&255,r=e>>8&255,i=255&e;this._bgColorStr="rgba("+n+","+r+","+i+","+t/255+")",this._bgColorRGBA.a=t/255,this._bgColorRGBA.r=n/255,this._bgColorRGBA.g=r/255,this._bgColorRGBA.b=i/255}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){var t=this;e!=t._scaleMode&&(t._scaleMode=e,t.setAlign())},enumerable:!0,configurable:!0}),n.prototype.render=function(e){e.begin(),t.prototype.render.call(this,e);for(var n=this,r=n._floatDisplayList,i=r.length,o=0;o<i;o++)r[o].updateStyle()},n.prototype._initMouseEvent=function(e,t,n,r){e._pd=!1,e._bpd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y,e.identifier=r},n.prototype.flush=function(){var e=this,t=2,n=!1;if(0==e._flush?(e.resize(),n=!0):0==e._currentFlush?(e._currentFlush=e._flush,e.resize()):(e._currentFlush==e._flush&&(n=!0),e._currentFlush--),n){do{e.isReUpdate=!1,e.updateEventAndScript(t),++t>100&&(trace("出现无限死循环,请检查"),e.isReUpdate=!1)}while(e.isReUpdate);e.render(e.renderObj)}},n.prototype.setFrameRate=function(e){var t=this;t._flush=60/e-1>>0,t._flush<0&&(t._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.getRootDivWH=function(e){var t=640,n=960;return""!=e.style.width?(t=parseInt(e.style.width),n=parseInt(e.style.height)):(t=document.documentElement.clientWidth,n=document.documentElement.clientHeight),{w:t,h:n}},n.prototype.onMouseEvent=function(t){for(var r=this,i=n._dragDisplay,o=t.target.offsetLeft,a=t.target.offsetTop,s=t.target.parentNode;"BODY"!=s.nodeName;)o+=s.offsetLeft,a+=s.offsetTop,s=s.parentNode;if(r.isMultiTouch&&t.targetTouches&&t.targetTouches.length>1){if(2==t.targetTouches.length){r._mP1.x=t.targetTouches[0].clientX-o,r._mP1.y=t.targetTouches[0].clientY-a,r._mP2.x=t.targetTouches[1].clientX-o,r._mP2.y=t.targetTouches[1].clientY-a;var l=Math.atan2(r._mP1.y-r._mP2.y,r._mP1.x-r._mP2.x)/Math.PI*180,u=e.Point.distance(r._mP1,r._mP2);if(r.muliPoints.push({p1:r._mP1,p2:r._mP2,angle:l,dis:u}),r.muliPoints.length>=2){r._touchEvent||(r._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),r._touchEvent.target=r);var c=r.muliPoints.length;r._touchEvent.rotate=2*(r.muliPoints[c-1].angle-r.muliPoints[c-2].angle),r._touchEvent.scale=(r.muliPoints[c-1].dis-r.muliPoints[c-2].dis)/(r.divHeight>r.divWidth?r.desWidth:r.desHeight)*4,r._touchEvent.clientPoint1.x=r.muliPoints[c-1].p1.x*e.devicePixelRatio,r._touchEvent.clientPoint2.x=r.muliPoints[c-1].p2.x*e.devicePixelRatio,r._touchEvent.clientPoint1.y=r.muliPoints[c-1].p1.y*e.devicePixelRatio,r._touchEvent.clientPoint2.y=r.muliPoints[c-1].p2.y*e.devicePixelRatio,r.dispatchEvent(r._touchEvent),r.muliPoints.shift()}}else r.muliPoints.length=0;i&&(i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE),r._mouseDownPoint={},r._lastDpList={}}else if(r.muliPoints.length>0&&(r._touchEvent.rotate=0,r._touchEvent.scale=0,r._touchEvent.clientPoint1.x=0,r._touchEvent.clientPoint2.x=0,r._touchEvent.clientPoint1.y=0,r._touchEvent.clientPoint2.y=0,r.dispatchEvent(r._touchEvent),r.muliPoints.length=0),e.EventDispatcher._totalMEC>0){var d,p=void 0,h=r._mouseEventTypes[t.type],_=void 0,f=void 0,v=void 0,g=void 0,y=void 0,m=void 0;"pc"==e.osType?(t.identifier=0,p=[t]):p=r.isMultiMouse?t.changedTouches:[t.changedTouches[0]];for(var b=0;b<p.length;b++)if(y=0,_=[],m="m"+p[b].identifier,g=r._mp.length>0?r._mp.shift():new e.Point,g.x=(p[b].clientX-o)*e.devicePixelRatio,g.y=(p[b].clientY-a)*e.devicePixelRatio,f=r.globalToLocal(g,e.DisplayObject._bp),r._ml[y]?(d=r._ml[y],d.type=h):(d=new e.MouseEvent(h),r._ml[y]=d),_[_.length]=d,r._initMouseEvent(d,g,f,m),y++,"onMouseDown"==h?r._mouseDownPoint[m]=g:"onMouseUp"==h&&r._mouseDownPoint[m]&&e.Point.distance(r._mouseDownPoint[m],g)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(r._ml[y]?(d=r._ml[y],d.type="onMouseClick"):(d=new e.MouseEvent("onMouseClick"),r._ml[y]=d),_[_.length]=d,r._initMouseEvent(d,g,f,m),y++),y>0){var x=r.hitTestPoint(g,!0,!0),E=[];if(x)for(;x;)!1===x.mouseChildren&&(E.length=0),E[E.length]=x,x=x.parent;else E[E.length]=r;for(var c=E.length,w=c-1;w>=0;w--){x=E[w];for(var T=0;T<y;T++)_[T]._bpd||x.hasEventListener(_[T].type)&&(_[T].currentTarget=x,_[T].target=E[0],v=x.globalToLocal(g,e.DisplayObject._bp),_[T].localX=v.x,_[T].localY=v.y,x.dispatchEvent(_[T]))}E.reverse();for(var w=c-1;w>=0;w--){x=E[w];for(var T=0;T<y;T++)_[T]._bpd||x.hasEventListener(_[T].type)&&(_[T].currentTarget=x,_[T].target=E[y-1],v=x.globalToLocal(g,e.DisplayObject._bp),_[T].localX=v.x,_[T].localY=v.y,x.dispatchEvent(_[T],null,!1))}if("onMouseDown"!=h){if((e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&r._lastDpList[m]){var P=r._lastDpList[m].length,M=E.length;c=P>M?P:M;for(var C=!1,L=void 0,O=void 0,w=1;w<c;w++)C||r._lastDpList[m][w]!=E[w]&&(C=!0,r._ml[y]?(L=r._ml[y],L.type="onMouseOver"):(L=new e.MouseEvent("onMouseOver"),r._ml[y]=L),r._initMouseEvent(L,g,f,m),y++,r._ml[y]?(O=r._ml[y],O.type="onMouseOut"):(O=new e.MouseEvent("onMouseOut"),r._ml[y]=O),r._initMouseEvent(O,g,f,m)),C&&(r._lastDpList[m][w]&&(O._bpd||(x=r._lastDpList[m][w],x.hasEventListener("onMouseOut")&&(O.currentTarget=x,O.target=r._lastDpList[m][P-1],v=x.globalToLocal(g,e.DisplayObject._bp),O.localX=v.x,O.localY=v.y,x.dispatchEvent(O)))),E[w]&&(L._bpd||(x=E[w],x.hasEventListener("onMouseOver")&&(L.currentTarget=x,L.target=E[M-1],v=x.globalToLocal(g,e.DisplayObject._bp),L.localX=v.x,L.localY=v.y,x.dispatchEvent(L)))))}r._mp[r._mp.length]=g}if(i&&i.stage&&i.parent){var A=i.x,S=i.y;v=i.parent.globalToLocal(g,e.DisplayObject._bp),i._isDragCenter?(A=v.x,S=v.y):(i._lastDragPoint.x!=Number.MAX_VALUE&&(A+=v.x-i._lastDragPoint.x,S+=v.y-i._lastDragPoint.y),i._lastDragPoint.x=v.x,i._lastDragPoint.y=v.y),v.x=A,v.y=S,0!=i._dragBounds.width&&(i._dragBounds.isPointIn(v)||(A<i._dragBounds.x?A=i._dragBounds.x:A>i._dragBounds.x+i._dragBounds.width&&(A=i._dragBounds.x+i._dragBounds.width),S<i._dragBounds.y?S=i._dragBounds.y:S>i._dragBounds.y+i._dragBounds.height&&(S=i._dragBounds.y+i._dragBounds.height))),i.x=A,i.y=S}"onMouseUp"==h?(i&&i.stage&&(i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE),delete r._mouseDownPoint[m],delete r._lastDpList[m]):r._lastDpList[m]=E}}
"_a2x_canvas"==t.target.id&&r.isPreventDefaultEvent&&("touchend"==t.type&&"ios"==e.osType&&r.iosTouchendPreventDefault&&t.preventDefault(),("touchmove"==t.type||"touchstart"==t.type&&"android"==e.osType)&&t.preventDefault())},n.prototype.setAlign=function(){var t=this,n=t.divHeight*e.devicePixelRatio,r=t.divWidth*e.devicePixelRatio,i=t.desHeight,o=t.desWidth;t.anchorX=o>>1,t.anchorY=i>>1;var a=n>r,s=i>o,l=1,u=1;if(t.x=r-o>>1,t.y=n-i>>1,t.autoSteering&&s!=a){var c=n;n=r,r=c}if("noScale"!=t._scaleMode)switch(l=n/i,u=r/o,t._scaleMode){case"noBorder":u>l?l=u:u=l;break;case"showAll":u<l?l=u:u=l;break;case"fixedWidth":l=u;break;case"fixedHeight":u=l}t.scaleX=u,t.scaleY=l,t.viewRect.x=o-r/u>>1,t.viewRect.y=i-n/l>>1,t.viewRect.width=o-2*t.viewRect.x,t.viewRect.height=i-2*t.viewRect.y,t.autoSteering?t.rotation=s==a?0:i>o?-90:90:t.rotation=0},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){if(!n._pause)for(var e=n.allUpdateObjList.length,t=e-1;t>=0;t--)n.allUpdateObjList[t]&&n.allUpdateObjList[t].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(e){for(var t=!1,r=n.allUpdateObjList.length,i=0;i<r;i++)if(n.allUpdateObjList[i]===e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,r=0;r<t;r++)if(n.allUpdateObjList[r]===e){n.allUpdateObjList.splice(r,1);break}},n.prototype.destroy=function(){t.prototype.destroy.call(this);var r=this;n.removeUpdateObj(r);var i=r.rootDiv;"pc"!=e.osType?(i.removeEventListener("touchstart",r.mouseEvent,!1),i.removeEventListener("touchmove",r.mouseEvent,!1),i.removeEventListener("touchend",r.mouseEvent,!1)):(i.removeEventListener("mousedown",r.mouseEvent,!1),i.removeEventListener("mousemove",r.mouseEvent,!1),i.removeEventListener("mouseup",r.mouseEvent,!1)),i.style.display="none",i.parentNode&&i.parentNode.removeChild(i),r.renderObj=null},n._pause=!1,n._dragDisplay=null,n._isLoadedVConsole=!1,n.allUpdateObjList=[],n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,r,i){void 0===t&&(t="black"),void 0===n&&(n=2),void 0===r&&(r=2),void 0===i&&(i=2);var o=e.call(this)||this;o.color="black",o.offsetX=2,o.offsetY=2,o.blur=2,o.type="Shadow";var a=o;return a._instanceType="annie.ShadowFilter",a.offsetX=n,a.offsetY=r,a.blur=i,a.color=t,o}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.offsetX+e.offsetY+e.blur+e.color},t.prototype.drawFilter=function(e){void 0===e&&(e=null)},t.prototype.destroy=function(){},t}(e.AObject);e.ShadowFilter=t;var n=function(e){function t(t){var n=e.call(this)||this;n.redMultiplier=0,n.redOffset=0,n.greenMultiplier=0,n.greenOffset=0,n.blueMultiplier=0,n.blueOffset=0,n.alphaMultiplier=0,n.alphaOffset=0,n.type="Color";var r=n;return r._instanceType="annie.ColorFilter",r.redMultiplier=t[0],r.greenMultiplier=t[1],r.blueMultiplier=t[2],r.alphaMultiplier=t[3],r.redOffset=t[4],r.greenOffset=t[5],r.blueOffset=t[6],r.alphaOffset=t[7],n}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t=this,n=e.data,r=n.length,i=0;i<r;i+=4)n[i]=n[i]*t.redMultiplier+t.redOffset,n[i+1]=n[i+1]*t.greenMultiplier+t.greenOffset,n[i+2]=n[i+2]*t.blueMultiplier+t.blueOffset,n[i+3]=n[i+3]*t.alphaMultiplier+t.alphaOffset},t.prototype.toString=function(){var e=this;return e.type+e.redMultiplier+e.greenMultiplier+e.blueMultiplier+e.alphaMultiplier+e.redOffset+e.greenOffset+e.blueOffset+e.alphaOffset},t.prototype.destroy=function(){},t}(e.AObject);e.ColorFilter=n;var r=function(e){function t(n,r,i,o){var a=e.call(this)||this;a.brightness=0,a.contrast=0,a.saturation=0,a.hue=0,a.type="ColorMatrix";var s=a;s._instanceType="annie.ColorMatrixFilter",s.brightness=n,s.contrast=r,s.saturation=i,s.hue=o,s.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=s._cleanValue(n,255),0!=n&&s._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),r=a._cleanValue(r,100);var l;if(0!=r&&(r<0?l=127+r/100*127:(l=r%1,l=0==l?t.DELTA_INDEX[r]:t.DELTA_INDEX[r<<0]*(1-l)+t.DELTA_INDEX[1+(r<<0)]*l,l=127*l+127),s._multiplyMatrix([l/127,0,0,0,.5*(127-l),0,l/127,0,0,.5*(127-l),0,0,l/127,0,.5*(127-l),0,0,0,1,0,0,0,0,0,1])),0!=(i=a._cleanValue(i,100))){l=1+(i>0?3*i/100:i/100);var u=.3086,c=.6094,d=.082;s._multiplyMatrix([u*(1-l)+l,c*(1-l),d*(1-l),0,0,u*(1-l),c*(1-l)+l,d*(1-l),0,0,u*(1-l),c*(1-l),d*(1-l)+l,0,0,0,0,0,1,0,0,0,0,0,1])}if(0!=(o=a._cleanValue(o,180)/180*Math.PI)){var p=Math.cos(o),h=Math.sin(o),u=.213,c=.715,d=.072;s._multiplyMatrix([u+p*(1-u)+h*-u,c+p*-c+h*-c,d+p*-d+h*(1-d),0,0,u+p*-u+.143*h,c+p*(1-c)+.14*h,d+p*-d+-.283*h,0,0,u+p*-u+h*-(1-u),c+p*-c+h*c,d+p*(1-d)+h*d,0,0,0,0,0,1,0,0,0,0,0,1])}return a}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t,n,r,i,o=e.data,a=o.length,s=this.colorMatrix,l=s[0],u=s[1],c=s[2],d=s[3],p=s[4],h=s[5],_=s[6],f=s[7],v=s[8],g=s[9],y=s[10],m=s[11],b=s[12],x=s[13],E=s[14],w=s[15],T=s[16],P=s[17],M=s[18],C=s[19],L=0;L<a;L+=4)t=o[L],n=o[L+1],r=o[L+2],i=o[L+3],o[L]=t*l+n*u+r*c+i*d+p,o[L+1]=t*h+n*_+r*f+i*v+g,o[L+2]=t*y+n*m+r*b+i*x+E,o[L+3]=t*w+n*T+r*P+i*M+C},t.prototype._multiplyMatrix=function(e){var t,n,r,i=[];for(t=0;t<5;t++){for(n=0;n<5;n++)i[n]=this.colorMatrix[n+5*t];for(n=0;n<5;n++){var o=0;for(r=0;r<5;r++)o+=e[n+5*r]*i[r];this.colorMatrix[n+5*t]=o}}},t.prototype._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t.prototype.toString=function(){var e=this;return e.type+e.brightness+e.hue+e.saturation+e.contrast},t.prototype.destroy=function(){this.colorMatrix=null},t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t}(e.AObject);e.ColorMatrixFilter=r;var i=function(e){function t(t,n,r){void 0===t&&(t=2),void 0===n&&(n=2),void 0===r&&(r=1);var i=e.call(this)||this;i.type="blur",i.blurX=0,i.blurY=0,i.quality=1;var o=i;return o._instanceType="annie.BlurFilter",o.blurX=t,o.blurY=n,o.quality=r,i}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.blurX+e.blurY+e.quality},t.prototype.drawFilter=function(e){void 0===e&&(e=null);var n=this,r=n.blurX>>1;if(isNaN(r)||r<0)return!1;var i=n.blurY>>1;if(isNaN(i)||i<0)return!1;if(0==r&&0==i)return!1;var o=n.quality;(isNaN(o)||o<1)&&(o=1),o|=0,o>3&&(o=3),o<1&&(o=1);var a=e.data,s=0,l=0,u=0,c=0,d=0,p=0,h=0,_=0,f=0,v=0,g=0,y=0,m=0,b=0,x=0,E=r+r+1|0,w=i+i+1|0,T=0|e.width,P=0|e.height,M=T-1|0,C=P-1|0,L=r+1|0,O=i+1|0,A={r:0,b:0,g:0,a:0},S=A;for(u=1;u<E;u++)S=S.n={r:0,b:0,g:0,a:0};S.n=A;var R={r:0,b:0,g:0,a:0},D=R;for(u=1;u<w;u++)D=D.n={r:0,b:0,g:0,a:0};D.n=R;for(var F=null,U=0|t.MUL_TABLE[r],I=0|t.SHG_TABLE[r],k=0|t.MUL_TABLE[i],j=0|t.SHG_TABLE[i];o-- >0;){h=p=0;var B=U,X=I;for(l=P;--l>-1;){for(_=L*(y=a[0|p]),f=L*(m=a[p+1|0]),v=L*(b=a[p+2|0]),g=L*(x=a[p+3|0]),S=A,u=L;--u>-1;)S.r=y,S.g=m,S.b=b,S.a=x,S=S.n;for(u=1;u<L;u++)c=p+((M<u?M:u)<<2)|0,_+=S.r=a[c],f+=S.g=a[c+1],v+=S.b=a[c+2],g+=S.a=a[c+3],S=S.n;for(F=A,s=0;s<T;s++)a[p++]=_*B>>>X,a[p++]=f*B>>>X,a[p++]=v*B>>>X,a[p++]=g*B>>>X,c=h+((c=s+r+1)<M?c:M)<<2,_-=F.r-(F.r=a[c]),f-=F.g-(F.g=a[c+1]),v-=F.b-(F.b=a[c+2]),g-=F.a-(F.a=a[c+3]),F=F.n;h+=T}for(B=k,X=j,s=0;s<T;s++){for(p=s<<2|0,_=O*(y=a[p])|0,f=O*(m=a[p+1|0])|0,v=O*(b=a[p+2|0])|0,g=O*(x=a[p+3|0])|0,D=R,u=0;u<O;u++)D.r=y,D.g=m,D.b=b,D.a=x,D=D.n;for(d=T,u=1;u<=i;u++)p=d+s<<2,_+=D.r=a[p],f+=D.g=a[p+1],v+=D.b=a[p+2],g+=D.a=a[p+3],D=D.n,u<C&&(d+=T);if(p=s,F=R,o>0)for(l=0;l<P;l++)c=p<<2,a[c+3]=x=g*B>>>X,x>0?(a[c]=_*B>>>X,a[c+1]=f*B>>>X,a[c+2]=v*B>>>X):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+O)<C?c:C)*T<<2,_-=F.r-(F.r=a[c]),f-=F.g-(F.g=a[c+1]),v-=F.b-(F.b=a[c+2]),g-=F.a-(F.a=a[c+3]),F=F.n,p+=T;else for(l=0;l<P;l++)c=p<<2,a[c+3]=x=g*B>>>X,x>0?(x=255/x,a[c]=(_*B>>>X)*x,a[c+1]=(f*B>>>X)*x,a[c+2]=(v*B>>>X)*x):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+O)<C?c:C)*T<<2,_-=F.r-(F.r=a[c]),f-=F.g-(F.g=a[c+1]),v-=F.b-(F.b=a[c+2]),g-=F.a-(F.a=a[c+3]),F=F.n,p+=T}}},t.prototype.destroy=function(){},t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t}(e.AObject);e.BlurFilter=i}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.rootContainer=null,n._instanceType="annie.CanvasRender",n._stage=e,n}return __extends(n,t),n.prototype.begin=function(){var e=this,t=e.rootContainer;e._ctx.setTransform(1,0,0,1,0,0),-1!=e._stage.bgColor?(e._ctx.fillStyle=e._stage._bgColorStr,e._ctx.fillRect(0,0,t.width,t.height)):e._ctx.clearRect(0,0,t.width,t.height)},n.prototype.beginMask=function(e){var t=this;t._ctx.save(),t._ctx.globalAlpha=0,t.drawMask(e),t._ctx.clip()},n.prototype.drawMask=function(e){var t=this;e.updateMatrix();var n=e.cMatrix;if(t._ctx.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),"annie.Shape"==e._instanceType)e._draw(t._ctx,!0);else if("annie.Sprite"==e._instanceType){e._updateState=0;for(var r=0;r<e.children.length;r++)t.drawMask(e.children[r])}else if("annie.MovieClip"==e._instanceType){e._frameState=0,e._updateState=0;for(var r=0;r<e.children.length;r++)t.drawMask(e.children[r])}else{var i=e._bounds;t._ctx.rect(0,0,i.width,i.height)}},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.draw=function(e){var t=this,n=e._texture;if(n&&n.width>0&&n.height>0){var r=t._ctx;r.globalAlpha=e.cAlpha;var i=e.cMatrix;if(r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.rect&&!e._isCache){var o=e.rect;r.drawImage(n,o.x,o.y,o.width,o.height,0,0,o.width,o.height)}else r.translate(e._offsetX,e._offsetY),r.drawImage(n,0,0)}},n.prototype.end=function(){},n.prototype.init=function(){var e=this;e.rootContainer||(e.rootContainer=document.createElement("canvas"),e._stage.rootDiv.appendChild(e.rootContainer),e.rootContainer.id="_a2x_canvas");var t=e.rootContainer;e._ctx=t.getContext("2d")},n.prototype.reSize=function(){var t=this,n=t.rootContainer;n.width=t._stage.divWidth*e.devicePixelRatio,n.height=t._stage.divHeight*e.devicePixelRatio,n.style.width=t._stage.divWidth+"px",n.style.height=t._stage.divHeight+"px"},n.prototype.destroy=function(){var e=this;e.rootContainer=null,e._stage=null,e._ctx=null},n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.bufferSize=0,n.rootContainer=null,n._dataLength=0,n._dataBuffer=null,n.DEFAULT_PROGRAM=0,n.currentProgramId=0,n.programList={},n.textureList=[],n.textureCount=1,n.dataStatus=[],n.dataRefList=[],n._instanceType="annie.WebGLRender",n._stage=e,n}return __extends(n,t),n.prototype.begin=function(){var e=this,t=e._ctx;if(-1!=e._stage.bgColor){var n=e._stage._bgColorRGBA;t.clearColor(n.r,n.g,n.b,n.a)}else t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT),e.clearDataStatus(),e._dataLength=0},n.prototype.beginMask=function(e){},n.prototype.drawMask=function(e){},n.prototype.endMask=function(){},n.prototype.draw=function(t){var n=this,r=n._ctx,i=t._texture;if(i&&i.width>0&&i.height>0){var o=n.setTexture(i);o<0&&(r.bufferData(r.ARRAY_BUFFER,n._dataBuffer.subarray(0,n._dataLength),r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,n._dataLength),n.clearDataStatus(),n._dataLength=0,o=n.setTexture(i));var a=void 0;a=t.rect&&!t._isCache?t.rect:new e.Rectangle(0,0,i.width,t.height);var s=a.width,l=a.height,u=a.x/i.width,c=a.y/i.height,d=(a.x+a.width)/i.width,p=(a.y+a.height)/i.height,h=t.cAlpha,_=t.cMatrix.a,f=t.cMatrix.b,v=t.cMatrix.c,g=t.cMatrix.d,y=t.cMatrix.tx,m=t.cMatrix.ty,b=[0,0,u,c,o,h,_,f,v,g,y,m,s,0,d,c,o,h,_,f,v,g,y,m,0,l,u,p,o,h,_,f,v,g,y,m,0,l,u,p,o,h,_,f,v,g,y,m,s,0,d,c,o,h,_,f,v,g,y,m,s,l,d,p,o,h,_,f,v,g,y,m];n._dataLength>n.bufferSize-b.length&&(r.bufferData(r.ARRAY_BUFFER,n._dataBuffer.subarray(0,n._dataLength),r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,n._dataLength),n._dataLength=0);for(var x=0;x<b.length;x++)n._dataBuffer[n._dataLength++]=b[x]}},n.prototype.end=function(){var e=this,t=this._ctx;t.bufferData(t.ARRAY_BUFFER,e._dataBuffer.subarray(0,e._dataLength),t.STATIC_DRAW),t.drawArrays(t.TRIANGLES,0,e._dataLength)},n.prototype.init=function(){var e=this;if(!e.rootContainer){if(e.rootContainer=document.createElement("canvas"),e._stage.rootDiv.appendChild(e.rootContainer),e.rootContainer.id="_a2x_canvas",e._ctx=e.rootContainer.getContext("webgl"),!e._ctx)return void console.log("no support WebGL");e._dataBuffer=new Float32Array(e.bufferSize);var t=e._ctx;e.initTextureCount();var n=e.createProgram(e.DEFAULT_PROGRAM);e.curProgram=n,t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer());var r=t.getAttribLocation(n,"a_position"),i=t.getAttribLocation(n,"a_texUVIA"),o=t.getAttribLocation(n,"a_matABCD"),a=t.getAttribLocation(n,"a_matXY");t.enableVertexAttribArray(r),t.enableVertexAttribArray(i),t.enableVertexAttribArray(o),t.enableVertexAttribArray(a),t.vertexAttribPointer(r,2,t.FLOAT,!1,48,0),t.vertexAttribPointer(i,4,t.FLOAT,!1,48,8),t.vertexAttribPointer(o,4,t.FLOAT,!1,48,24),t.vertexAttribPointer(a,2,t.FLOAT,!1,48,40),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}},n.prototype.reSize=function(){var t=this,n=t.rootContainer;n.width=t._stage.divWidth*e.devicePixelRatio,n.height=t._stage.divHeight*e.devicePixelRatio,n.style.width=t._stage.divWidth+"px",n.style.height=t._stage.divHeight+"px";var r=t._ctx,i=r.getUniformLocation(t.curProgram,"u_resolution");r.uniform2f(i,r.canvas.width,r.canvas.height)},n.prototype.destroy=function(){var e=this;e.rootContainer=null,e._stage=null,e._ctx=null},n.prototype.createTextureCountScript=function(e){var t=this;if(0==e){for(var n="uniform sampler2D u_texture0;\n",r=1;r<t.textureCount;r++)n+="uniform sampler2D u_texture"+r+";\n";return n}if(1==e){for(var n="float ok1=float(v_texCoord[2]==1.0);\n",r=1;r<t.textureCount;r++)n+="float ok"+r+"=float(v_texCoord[2]=="+r+".0);\n";return n}if(3==e){for(var n="gl_FragColor = texture2D(u_texture0, v_texCoord.xy)*ok1",r=1;r<t.textureCount;r++)n+="+texture2D(u_texture"+r+", v_texCoord.xy)*ok"+r;return n+=";"}},n.prototype.createProgram=function(e){var t=this,n=t._ctx;if(null==t.programList["p"+e]){var r=n.createProgram(),i=void 0,o=void 0;e==t.DEFAULT_PROGRAM&&(i="attribute vec2 a_position;attribute vec4 a_texUVIA;attribute vec4 a_matABCD;attribute vec2 a_matXY;uniform vec2 u_resolution;varying vec4 v_texCoord;void main() {mat3 matrix=mat3(a_matABCD[0],a_matABCD[1],0,a_matABCD[2],a_matABCD[3],0,a_matXY.x,a_matXY.y,1);vec2 position=(matrix*vec3(a_position,1)).xy;position = ((position/u_resolution)*2.0-1.0)* vec2(1, -1);gl_Position = vec4(position,0,1);v_texCoord = a_texUVIA;}",o="precision mediump float;"+t.createTextureCountScript(1)+"varying vec4 v_texCoord;void main(){"+t.createTextureCountScript(2)+t.createTextureCountScript(3)+"gl_FragColor.a*=v_texCoord[3];}");var a=n.createShader(n.VERTEX_SHADER);n.shaderSource(a,i),n.compileShader(a);var s=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(a,o),n.compileShader(a),n.attachShader(r,a),n.attachShader(r,s),n.linkProgram(r),t.programList["p"+e]=r}return t.currentProgramId=e,t.programList["p"+e]},n.prototype.initTextureCount=function(){for(var e=this,t=e._ctx,n=0;void 0!=t["TEXTURE"+n];)n++;e.textureCount=n},n.prototype.clearDataStatus=function(){for(var e=this,t=0;t<e.textureCount;t++)e.dataStatus[t]=!1},n.prototype.setTexture=function(e){var t=-1,n=this,r=n._ctx;if(e._webgl_tex_id)if(t=e._webgl_tex_id-1,n.dataStatus[t]){if(n.dataRefList[t]==e)return e._webgl_tex_id;t=-1}else if(n.dataStatus[t]=!0,n.dataRefList[t]==e){if(!e._webgl_data_changed)return e._webgl_tex_id}else n.dataRefList[t]=e;if(t<0){for(var i=0;i<n.textureCount;i++)if(null==this.dataRefList[i]){n.dataRefList[i]=e,n.dataStatus[i]=!0,t=i;break}if(t<0)return-1}if(null==n.textureList[t]){var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR);var a=r.getUniformLocation(n.curProgram,"u_texture"+t);r.uniform1i(a,t),n.textureList[t]=o}return r.activeTexture(r.TEXTURE0+t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),e._webgl_data_changed=!1,e._webgl_tex_id=t+1,e._webgl_tex_id},n}(e.AObject);e.WebGLRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._req=null,e.headers=[],e.responseType="",e.url="",e.method="get",e.data=null,e._fqs=function(e,t){var n=[];if(e)for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t&&(n=n.concat(t)),n.join("&")},e._fus=function(e,t){var n=this;if(null==t||""==t)return e;var r=[],i=e.indexOf("?");if(-1!=i){var o=e.slice(i+1);return r=r.concat(o.split("&")),e.slice(0,i)+"?"+n._fqs(t,r)}return e+"?"+n._fqs(t,r)},e._instanceType="annie.URLLoader",e}return __extends(n,t),n.prototype.loadCancel=function(){var e=this;e._req&&e._req.abort()},n.prototype.load=function(t,n){void 0===n&&(n="form");var r=this;if(r.loadCancel(),""==r.responseType){var i=t.split("."),o=i[i.length-1],a=o.split("?")[0].toLocaleLowerCase();"."+a==e.suffixName?e._isReleased?r.responseType="swf":r.responseType="js":r.responseType="mp3"==a||"ogg"==a||"wav"==a?"sound":"jpg"==a||"jpeg"==a||"png"==a||"gif"==a?"image":"css"==a?"css":"mp4"==a?"video":"svg"==a?"svg":"xml"==a?"xml":"json"==a?"json":"txt"==a?"text":"js"==a?"js":"unKnow"}var s=0;if(r._req||(r._req=new XMLHttpRequest,r._req.withCredentials=!1,r._req.onprogress=function(e){r.dispatchEvent("onProgress",{loadedBytes:e.loaded,totalBytes:e.total})},r._req.onerror=function(e){if(++s>2)r.dispatchEvent("onError",{id:2,msg:e.message});else if(r._req.abort(),r.data)if("form"==n)r._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),r._req.send(r._fqs(r.data,null));else{var t="application/json";"json"!=n&&(t="multipart/form-data"),r._req.setRequestHeader("Content-type",t+";charset=UTF-8"),r._req.send(r.data)}else r._req.send()},r._req.onload=function(){var t=new e.Event("onComplete"),n=r._req.response;t.data={type:r.responseType,response:null};var i;switch(r.responseType){case"css":case"video":i=r.url;break;case"json":i=JSON.parse(n);break;case"js":i="JS_CODE",e.Eval(n);break;default:i=n}t.data.response=i,r.data=null,r.responseType="",r.dispatchEvent(t)}),r.data&&"get"==r.method.toLocaleLowerCase()?(r.url=r._fus(t,r.data),r.data=null):r.url=t,"swf"==r.responseType||"image"==r.responseType||"sound"==r.responseType?r._req.responseType="blob":r._req.responseType="",r._req.open(r.method,r.url,!0),r.headers.length>0){for(var l=0;l<r.headers.length;l+=2)r._req.setRequestHeader(r.headers[l],r.headers[l+1]);r.headers.length=0}if(r.data)if("form"==n)r._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),r._req.send(r._fqs(r.data,null));else{var u="application/json";"json"!=n&&(u="multipart/form-data"),r._req.setRequestHeader("Content-type",u+";charset=UTF-8"),r._req.send(r.data)}else r._req.send()},n.prototype.addHeader=function(e,t){this.headers.push(e,t)},n.prototype.destroy=function(){var e=this;e.loadCancel(),e.headers=null,e.data=null,t.prototype.destroy.call(this)},n}(e.EventDispatcher);e.URLLoader=t}(annie||(annie={}));var annie;!function(e){function t(){I.load(A+"resource/"+O[S]+"/"+O[S]+".res.json?t="+Y)}function n(e){var n=e.data.response;B.push(n),R+=n.length,S++,O[S]?t():(S=0,N=1/R,s())}function r(t){if(U){var n=window,r=t.data.totalBytes;"android"==e.osType&&n.swfBytes&&n.swfBytes[O[S]]&&(r=n.swfBytes[O[S]]),U(100*(X+t.data.loadedBytes/r*N)>>0)}}function i(e){var t;for(var n in e)if(t=e[n],1==t.t){if(!t.f){t.f=[];continue}if(t.tf>1){for(var r=t.f,i=r.length,o=null,s=null,l=[],u=0;u<i;u++){if(o=r[u].c){for(var c in o){var d=o[c].at;if(void 0!=d&&-1!=d){if(0==d)l.push(c);else for(var p=0;p<l.length;p++)if(l[p]==d){l.splice(p,0,c);break}delete o[c].at}}if(s)for(var c in s)if(o[c])if(-1!=o[c].at)for(var h in s[c])void 0==o[c][h]&&(o[c][h]=s[c][h]);else delete o[c];else o[c]=s[c]}s=o}t.ol=l}}0==--W&&a()}function o(t){var n=O[S],r=t.data.response;if(e._isReleased){var o,s=new FileReader,l=0,u=0,c=1;s.readAsText(r.slice(r.size-c,r.size)),s.onload=function(){if(0==l)l++,u=c,c+=parseInt(s.result),s.readAsText(r.slice(r.size-c,r.size-u));else if(1==l)l++,u=c,c+=parseInt(s.result),s.readAsText(r.slice(r.size-c,r.size-u));else if(2==l)l++,u=0,c=0,o=JSON.parse(s.result),u=c,c+=o[0].src,W=o.length-1,s.readAsText(r.slice(u,c));else if(3==l){l++,e.Eval(s.result);for(var t=1;t<o.length;t++)!function(t){if(u=c,c+=o[t].src,"image"==o[t].type){var i=new Image;i.onload=H,i.src=URL.createObjectURL(r.slice(u,c)),e.res[n][o[t].id]=i}else if("sound"==o[t].type){var l=new Audio;e.res[n][o[t].id]=l;var d=new FileReader;d.onload=function(){l.src=d.result,0==--W&&a()},d.readAsDataURL(r.slice(u,c,"audio/mp3"))}else"json"==o[t].type&&"_a2x_con"==o[t].id&&s.readAsText(r.slice(u,c))}(t)}else 4==l&&(l++,e.res[n]._a2x_con=JSON.parse(s.result),i(e.res[n]._a2x_con))}}else if("js"!=t.data.type&&"css"!=t.data.type)if(e.res[n][B[S][0].id]=r,"_a2x_con"==B[S][0].id)W++,i(r);else if("image"==t.data.type){W++;var d=new Image;d.onload=H,d.src=URL.createObjectURL(r),e.res[n][B[S][0].id]=d}else if("sound"==t.data.type){var p=new Audio;p.src=URL.createObjectURL(r),e.res[n][B[S][0].id]=p,a()}else a();else a()}function a(){if(e._isReleased||B[S].shift(),D++,X=D/R,!e._isReleased&&B[S].length>0)s();else{e.res[O[S]]._f2x_had_loaded_scene=!0;var t={};t.sceneName=O[S],S++,t.sceneId=S,t.sceneTotal=O.length,S==O.length?(L=!1,F(t)):(F(t),s())}}function s(){var t=A+B[S][0].src;e._isReleased?(k.responseType="swf",t+="?v="+e._isReleased):t+="?v="+Y,k.load(t)}function l(t){return!(void 0==e.res[t]||null==e.res[t]||!e.res[t]._f2x_had_loaded_scene)}function u(t){delete e.res[t];var n=window,r=n[t];for(var i in r)delete r[i];delete n[t],r=null}function c(t,n){var r=e.res;return r[t][n]?r[t][n]:null}function d(t,n){return new e.Bitmap(e.res[t][n])}function p(e,t,n){void 0===n&&(n=1);var r;if(e._a2x_res_obj!=t){void 0!=t.tr&&1!=t.tr.length||(t.tr=[0,0,1,1,0,0]);var i=e._a2x_res_obj;if(i.tr!=t.tr&&(r=t.tr,e.x=r[0],e.y=r[1],e.scaleX=r[2],e.scaleY=r[3],e.skewX=r[4],e.skewY=r[5]),void 0!=t.w&&(e.textWidth=t.w,e.textHeight=t.h,"annie.TextField"==e._instanceType&&(e.y+=2)),e.alpha=void 0==t.al?1:t.al,void 0!=t.t&&(-1==t.t&&e.initButton&&e.initButton(),e._mode=t.t),i.fi!=t.fi)if(void 0!=t.fi){for(var o,a=[],s=void 0,l=0;l<t.fi.length;l++)switch(t.fi[l][0]){case 0:o=.5*(t.fi[l][2]+t.fi[l][3]),s=T.getRGBA(t.fi[l][10],t.fi[l][11]);var u=t.fi[l][4]*Math.cos(t.fi[l][1]),c=t.fi[l][4]*Math.sin(t.fi[l][1]);a[a.length]=new M(s,u,c,o);break;case 1:a[a.length]=new P(t.fi[l][1],t.fi[l][2],t.fi[l][3]);break;case 2:o=.5*(t.fi[l][1]+t.fi[l][2]),s=T.getRGBA(t.fi[l][7],t.fi[l][6]),a[a.length]=new M(s,0,0,o);break;case 6:a[a.length]=new C(t.fi[l][1],t.fi[l][2],t.fi[l][3],t.fi[l][4]);break;case 7:a[a.length]=new w(t.fi[l][1])}a.length>0?e.filters=a:e.filters=null}else e.filters=null;e._a2x_res_obj=t}}function h(t,n){var r,i=e.res[t]._a2x_con[n],o=decodeURIComponent(i[9]),a=decodeURIComponent(i[4]).replace(/\s(Regular|Medium)/,""),s=i[5],l=G[i[3]],u=q[i[2]],c=i[11],d=i[10],p=i[6],h=i[7],_=i[12],f=i[8];return 0==i[1]||1==i[1]?(r=new e.TextField,r.text=o,r.font=a,r.size=s,r.textAlign=l,r.lineType=u,r.italic=c,r.bold=d,r.color=p,r.textAlpha=h,r.border=_,r.lineHeight=f):(r=new e.InputText(i[2]),r.initInfo(o,p,l,s,a,_,f),r.italic=c,r.bold=d),r}function _(t,n){var r="_f2x_s"+n;if(e.res[t][r])return e.res[t][r];var i=null,o=d(t,n);return o?(i=o.rect?e.Bitmap.convertToImage(o,!1):o.bitmapData,e.res[t][r]=i,i):(console.log("error:矢量位图填充时,未找到位图资源!"),null)}function f(t,n){for(var r=e.res[t]._a2x_con[n][1],i=new e.Shape,o=0;o<r.length;o++)1==r[o][0]?(0==r[o][1]?i.beginFill(e.Shape.getRGBA(r[o][2][0],r[o][2][1])):1==r[o][1]?i.beginLinearGradientFill(r[o][2][0],r[o][2][1]):2==r[o][1]?i.beginRadialGradientFill(r[o][2][0],r[o][2][1]):i.beginBitmapFill(d(t,r[o][2][0]).bitmapData,r[o][2][1]),i.decodePath(r[o][3]),i.endFill()):(0==r[o][1]?i.beginStroke(e.Shape.getRGBA(r[o][2][0],r[o][2][1]),r[o][4],r[o][5],r[o][6],r[o][7]):1==r[o][1]?i.beginLinearGradientStroke(r[o][2][0],r[o][2][1],r[o][4],r[o][5],r[o][6],r[o][7]):2==r[o][1]?i.beginRadialGradientStroke(r[o][2][0],r[o][2][1],r[o][4],r[o][5],r[o][6],r[o][7]):i.beginBitmapStroke(d(t,r[o][2][0]).bitmapData,r[o][2][1],r[o][4],r[o][5],r[o][6],r[o][7]),i.decodePath(r[o][3]),i.endStroke());return i}function v(t,n){return new e.Sound(e.res[t][n])}function g(t){var n=new x;t.isNeedOption&&n.addHeader("X-Requested-With","XMLHttpRequest"),n.method=void 0==t.type?"get":t.type,n.data=void 0==t.data?null:t.data,n.responseType=void 0==t.responseType?"text":t.responseType,void 0!=t.success&&n.addEventListener(e.Event.COMPLETE,t.success),void 0!=t.error&&n.addEventListener(e.Event.ERROR,t.error),n.load(t.url)}function y(e,t,n,r){var i=window;1==t&&(i[n]=r);var o=document.createElement("script"),a=document.getElementsByTagName("head")[0];o.onload=function(e){0==t&&r(i[n]),e.path[0].src="",i[n]=null,delete i[n],a.removeChild(e.path[0])},a.appendChild(o);var s;s=e.indexOf("?")>0?"&":"?",o.src=e+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function m(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}function b(t,n,r){var i=window,o=e.res[n],a=o._a2x_con,s=a[r];t._a2x_res_class=s;var l,u=!1;if(s.tf>1&&(u=!0,void 0==s.timeLine)){var c=s.f.length,_=[],g=c>0?s.f[0].i:s.tf,y=0;if(g>0)for(var m=0;m<g;m++)_[_.length]=-1;if(c>0)for(l=0;l<c;l++){y=l+1<c?s.f[l+1].i:s.tf,g=s.f[l].i;for(var m=0;m<y-g;m++)_[_.length]=l}s.timeLine=_,s.f||(s.f=[]),s.a||(s.a={}),s.s||(s.s={}),s.e||(s.e={});var x={};if(s.l)for(var E in s.l)for(var w=0;w<s.l[E].length;w++)x[s.l[E][w]]=parseInt(E)+1;else s.l=[];s.label=x}var T=s.c;if(T){var P=[],M=T.length,C=null,L=0,O=null,A=0;for(l=0;l<M;l++){switch(L=Array.isArray(a[T[l]])?a[T[l]][0]:a[T[l]].t){case 1:case 4:s.n&&s.n[l]&&t[s.n[l]]?C=t[s.n[l]]:(4==L?C=h(n,T[l]):0==T[l].indexOf("_$")?(C=a[T[l]].tf>1?new e.MovieClip:new e.Sprite,b(C,n,T[l])):C=new i[n][T[l]],s.n&&s.n[l]&&(t[s.n[l]]=C,C.name=s.n[l]));break;case 2:C=d(n,T[l]);break;case 3:C=f(n,T[l]);break;case 5:C=v(n,T[l]),C.name=T[l],t.addSound(C)}if(u)P[P.length]=C,5==L&&(C.isPlaying=!1,t._a2x_sounds||(t._a2x_sounds={}),t._a2x_sounds[l]=C);else{var E=l+1;5==L?C._loop=C._repeate=s.s[0][E]:(p(C,s.f[0].c[E]),void 0!=s.f[0].c[E].ma?(O=C,A=s.f[0].c[E].ma-1):O&&l<=A&&(C.mask=O,l==A&&(O=null)),t.addChildAt(C,0))}}if(u){var S=s.ol;if(S)for(var R=0;R<S.length;R++)t._a2x_res_children[R]=[S[R],P[S[R]-1]]}}}var x=e.URLLoader,E=e.Event,w=e.ColorFilter,T=e.Shape,P=e.BlurFilter,M=e.ShadowFilter,C=e.ColorMatrixFilter;e._isReleased=!1,e.suffixName=".swf",e._shareSceneList=[],e.res={};var L,O,A,S,R,D,F,U,I,k,j,B,X,N,Y=(new Date).getTime();e.loadScene=function(i,a,u,c){if(void 0===c&&(c=""),L&&(I.loadCancel(),k.loadCancel()),O=[],A=c,"string"==typeof i)if(l(i)){var d={};d.sceneName=i,d.sceneId=1,d.sceneTotal=1,u(d)}else e.res[i]={},O.push(i);else for(var p=i.length,h=0,_=0;_<p;_++)if(l(i[_])){var d={};d.sceneName=i[_],d.sceneId=++h,d.sceneTotal=p,u(d)}else e.res[i[_]]={},O.push(i[_]);if(0!=O.length)if(j||(I=new x,I.addEventListener(E.COMPLETE,n),k=new x,k.addEventListener(E.COMPLETE,o),k.addEventListener(E.PROGRESS,r),j=!0),W=0,X=0,S=0,R=0,D=0,L=!0,F=u,U=a,B=[],e._isReleased){if(e._shareSceneList.length>0&&!l("f2xShare"))for(var _=0;_<O.length;_++)if(e._shareSceneList.indexOf(O[_])>=0){O.unshift("f2xShare");break}S=0,R=O.length,N=1/R;for(var _=0;_<R;_++)B.push([{src:"src/"+O[_]+"/"+O[_]+e.suffixName}]);s()}else t()};var W=0,H=function(e){URL.revokeObjectURL(e.target.url),e.target.onload=null,0==--W&&a()};e.isLoadedScene=l,e.unLoadScene=u,e.getResource=c,e.d=p;var q=["single","multiline"],G=["left","center","right"];e.sb=_,e.ajax=g,e.jsonp=y,e.getQueryString=m,e.initRes=b,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.pause=!1,t.currentFrame=0,t.totalFrames=0,t._isLoop=0,t._delay=0,t._isFront=!0,t._cParams=null,t._loop=!1,t}return __extends(t,e),t.prototype.init=function(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),t<=0||"number"!=typeof t)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var o=this;o.currentFrame=1;var a=60*t>>0;o.totalFrames=a>0?a:1,o.target=e,o._isTo=r,o._isLoop=0,o._startData={},o._disData={},o._delay=0,o._isFront=!0,o._ease=null,o._update=null,o._cParams=null,o._loop=!1,o._completeFun=null;for(var s in n)switch(s){case"useFrame":1==n[s]&&(o.totalFrames=t);break;case"yoyo":!1===n[s]?o._isLoop=0:!0===n[s]?o._isLoop=Number.MAX_VALUE:o._isLoop=n[s];break;case"delay":n.useFrame?o._delay=n[s]:o._delay=60*n[s]>>0;break;case"ease":o._ease=n[s];break;case"onUpdate":o._update=n[s];break;case"onComplete":o._completeFun=n[s];break;case"completeParams":o._cParams=n[s];break;case"loop":o._loop=n[s];break;default:"number"==typeof n[s]&&(r?(o._startData[s]=e[s],o._disData[s]=n[s]-e[s]):(o._startData[s]=n[s],o._disData[s]=e[s]-n[s],e[s]=n[s]))}},t.prototype.update=function(){var e=this;if(!e.pause){if(e._isFront&&e._delay>0)return void e._delay--;var t=e.currentFrame/e.totalFrames;if(!(t<0||t>1)){e._ease&&(t=e._ease(t));var r=!1;for(var i in e._disData)r=!0,e.target[i]=e._startData[i]+e._disData[i]*t;if(!r)return void n.kill(e.instanceId);e._update&&e._update(t);var o=e._completeFun,a=e._cParams;e._isFront?++e.currentFrame>e.totalFrames&&(e._loop?e.currentFrame=1:(o&&o(0==e._isLoop,a),e._isLoop>0?(e._isFront=!1,e.currentFrame=e.totalFrames,e._isLoop--):n.kill(e.instanceId))):--e.currentFrame<0&&(o&&o(0==e._isLoop,a),e._isLoop>0?(e._isFront=!0,e.currentFrame=1):n.kill(e.instanceId))}}},t.prototype.destroy=function(){var e=this;e._update=null,e._completeFun=null,e._ease=null},t}(e.AObject);e.TweenObj=t;var n=function(){function n(){}return n.to=function(e,t,r){return n.createTween(e,t,r,!0)},n.from=function(e,t,r){return n.createTween(e,t,r,!1)},n.createTween=function(r,i,o,a,s){
void 0===s&&(s=!0);for(var l,u=n._tweenList.length,c=0;c<u;c++)if(l=n._tweenList[c],r==l.target)for(var d in l._startData)void 0!=o[d]&&(delete l._startData[d],delete l._disData[d]);return u=n._tweenPool.length,u>0?(l=n._tweenPool.shift(),l._instanceId=e.AObject._object_id++):l=new t,n._tweenList.push(l),l.init(r,i,o,a,s),l.instanceId},n.killAll=function(){for(var e,t=n._tweenList.length,r=0;r<t;r++)e=n._tweenList[r],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,n._tweenPool.push(e);n._tweenList.length=0},n.kill=function(e){for(var t,r=n._tweenList.length,i=0;i<r;i++)if(t=n._tweenList[i],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,n._tweenPool.push(t),n._tweenList.splice(i,1);break}},n.quadraticIn=function(e){return e*e},n.quadraticOut=function(e){return e*(2-e)},n.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},n.cubicIn=function(e){return e*e*e},n.cubicOut=function(e){return--e*e*e+1},n.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.quarticIn=function(e){return e*e*e*e},n.quarticOut=function(e){return 1- --e*e*e*e},n.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.quinticIn=function(e){return e*e*e*e*e},n.quinticOut=function(e){return--e*e*e*e*e+1},n.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},n.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},n.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},n.exponentialIn=function(e){return 0===e?0:Math.pow(1024,e-1)},n.exponentialOut=function(e){return 1===e?1:1-Math.pow(2,-10*e)},n.exponentialInOut=function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},n.circularIn=function(e){return 1-Math.sqrt(1-e*e)},n.circularOut=function(e){return Math.sqrt(1- --e*e)},n.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.elasticIn=function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},n.elasticOut=function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},n.elasticInOut=function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},n.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.backInOut=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},n.bounceIn=function(e){return 1-n.bounceOut(1-e)},n.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.bounceInOut=function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5},n.flush=function(){for(var e=n._tweenList.length,t=e-1;t>=0;t--)n._tweenList[t]?n._tweenList[t].update():n._tweenList.splice(t,1)},n._tweenPool=[],n._tweenList=[],n}();e.Tween=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(n,r){void 0===r&&(r=0);var i=e.call(this)||this;i._currentCount=0,i._delay=0,i._frameDelay=0,i._currentFrameDelay=0,i._repeatCount=0,i._running=!1,n<=0&&(n=1);var o=i;return o._delay=n,o._frameDelay=Math.ceil(.001*n*60),o._repeatCount=r,t._timerList.push(o),i}return __extends(t,e),t.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},t.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},t.prototype.stop=function(){this._running=!1},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){e<0&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.kill=function(){for(var e=t._timerList.length,n=this,r=0;r<e;r++)if(t._timerList[r]._instanceId==n._instanceId){t._timerList.splice(r,1);break}},t.prototype.update=function(){var e=this;e._running&&++e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete")))},t.flush=function(){for(var e=t._timerList.length,n=e-1;n>=0;n--)t._timerList[n]?t._timerList[n].update():t._timerList.splice(n,1)},t.prototype.destroy=function(){this.kill(),e.prototype.destroy.call(this)},t._timerList=[],t}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){function t(e){window.location.href=e}function n(e){var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}e.Eval=eval.bind(window),e.debug=!1,e.version="3.0.0",e.osType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/android/,n=/iphone|ipod|ipad/;return t.test(e)?"android":n.test(e)?"ios":"pc"}(),e.globalDispatcher=new e.EventDispatcher,e.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},e.navigateToURL=t,e.sendToURL=n;var r=null;e.toDisplayDataURL=function(t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=""),r||(r=new e.CanvasRender(null),r.rootContainer=e.DisplayObject._canvas);var a={p:t.parent,x:t.x,y:t.y};t.parent=null,t._cp=!0,t.x=t.y=0,n||(n=t.getDrawRect()),t.x=-n.x,t.y=-n.y;var s=n.width,l=n.height;return r.rootContainer.width=s,r.rootContainer.height=l,r.rootContainer.style.width=s/e.devicePixelRatio+"px",r.rootContainer.style.height=l/e.devicePixelRatio+"px",r._ctx=r.rootContainer.getContext("2d"),""==o?r._ctx.clearRect(0,0,s,l):(r._ctx.fillStyle=o,r._ctx.fillRect(0,0,s,l)),t.render(r),t.parent=a.p,t._cp=!0,t.x=a.x,t.y=a.y,i?i.quality&&(i.quality/=100):i={type:"png"},r.rootContainer.toDataURL("image/"+i.type,i.quality)},e.toDisplayCache=function(t){r||(r=new e.CanvasRender(null),r.rootContainer=e.DisplayObject._canvas);var n={p:t.parent,x:t.x,y:t.y,scX:t.scaleX,scY:t.scaleY,r:t.rotation,skX:t.skewX,skY:t.skewY};t.parent=null,t._cp=!0,t.x=t.y=0,t.scaleX=t.scaleY=1,t.rotation=t.skewX=t.skewY=0;var i=t.getBounds(),o=i.width,a=i.height;return t.x=-i.x,t.y=-i.y,t._offsetX=i.x,t._offsetY=i.y,r.rootContainer.width=o,r.rootContainer.height=a,r.rootContainer.style.width=o/e.devicePixelRatio+"px",r.rootContainer.style.height=a/e.devicePixelRatio+"px",r._ctx=r.rootContainer.getContext("2d"),r._ctx.clearRect(0,0,o,a),t.render(r),t.parent=n.p,t._cp=!0,t.x=n.x,t.y=n.y,t.scaleX=n.scX,t.scaleY=n.scY,t.rotation=n.r,t.skewX=n.skX,t.skewY=n.skY,r.rootContainer.toDataURL("image/png")},e.getStagePixels=function(t,n){var r=t.localToGlobal(new e.Point(n.x,n.y));return t.renderObj.rootContainer.getContext("2d").getImageData(r.x,r.y,n.width,n.height)}}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();