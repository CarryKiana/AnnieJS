var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="annie.EventDispatcher",e}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;if(""==e)for(var i in n._MECO)0==i.indexOf("onMouse")&&(t+=n._MECO[i]);else n._MECO[e]&&(t=n._MECO[e]);return t},n.prototype.addEventListener=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var i=this,r=i.eventTypes;n||(r=i.eventTypes1),r[e]||(r[e]=[]),r[e].indexOf(t)<0&&(r[e].unshift(t),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!0))},n.prototype._changeMouseCount=function(e,t){var i=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=i,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var r=this;"string"==typeof t&&(r._defaultEvent?r._defaultEvent.reset(t,r):r._defaultEvent=new e.Event(t),t=r._defaultEvent);var o=r.eventTypes[t.type];if(i||(o=r.eventTypes1[t.type]),o){var a=o.length;null==t.target&&(t.target=r),null!=n&&(t.data=n);for(var s=a-1;s>=0;s--)t._pd||(o[s]?o[s](t):o.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(e,t){void 0===t&&(t=!0);var n=this;if(t){if(n.eventTypes[e]&&n.eventTypes[e].length>0)return!0}else if(n.eventTypes1[e]&&n.eventTypes1[e].length>0)return!0;return!1},n.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!0);var i=this,r=i.eventTypes[e];if(n||(r=i.eventTypes1[e]),r)for(var o=r.length,a=o-1;a>=0;a--)r[a]===t&&(r.splice(a,1),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!1))},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);for(var t in e.eventTypes1)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes1[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes1={},e.eventTypes={}},n.prototype.destroy=function(){this.removeAllEventListener()},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.target=null,n.data=null,n._bpd=!1,n._pd=!1,n._instanceType="annie.Event",n.type=t,n}return __extends(t,e),t.prototype.stopImmediatePropagation=function(){this._pd=!0},t.prototype.stopPropagation=function(){this._bpd=!0},t.prototype.destroy=function(){var e=this;e.target=null,e.data=null},t.prototype.reset=function(e,t){this.target=t,this._pd=!1,this._bpd=!1,this.type=e},t.RESIZE="onResize",t.ON_INIT_STAGE="onInitStage",t.ON_RUN_CHANGED="onRunChanged",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.INIT_TO_STAGE="onInitStage",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n.clientX=0,n.clientY=0,n.stageX=0,n.stageY=0,n.localX=0,n.localY=0,n.currentTarget=null,n.identifier=0,n._instanceType="annie.MouseEvent",n}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},t.prototype.destroy=function(){this.currentTarget=null,e.prototype.destroy.call(this)},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){var i=t.call(this,n)||this;return i.clientPoint1=new e.Point,i.clientPoint2=new e.Point,i.scale=0,i.rotate=0,i._instanceType="annie.TouchEvent",i}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},n.prototype.destroy=function(){var e=this;e.clientPoint1=null,e.clientPoint2=null,t.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=e.call(this)||this;i.x=0,i.y=0;var r=i;return r._instanceType="annie.Point",r.x=t,r.y=n,i}return __extends(t,e),t.prototype.destroy=function(){},t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case r:case-o:return 0;case i:case-i:return-1;case o:case-r:return 0;default:return Math.cos(e)}}function n(e){switch(e){case r:case-o:return 1;case i:case-i:return 0;case o:case-r:return-1;default:return Math.sin(e)}}var i=Math.PI,r=i>>1,o=i+r,a=Math.PI/180,s=function(i){function r(t,n,r,o,a,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0);var l=i.call(this)||this;l.a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.transformPoint=function(t,n,i){void 0===i&&(i=null);var r=this;return i||(i=new e.Point),i.x=t*r.a+n*r.c+r.tx,i.y=t*r.b+n*r.d+r.ty,i},l.prepend=function(e){var t=this,n=e.a,i=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,u=t.c,c=t.tx;t.a=n*l+r*t.b,t.b=i*l+o*t.b,t.c=n*u+r*t.d,t.d=i*u+o*t.d,t.tx=n*c+r*t.ty+a,t.ty=i*c+o*t.ty+s};var u=l;return u._instanceType="annie.Matrix",u.a=t,u.b=n,u.c=r,u.d=o,u.tx=a,u.ty=s,l}return __extends(r,i),r.prototype.clone=function(){var e=this;return new r(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},r.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},r.prototype.invert=function(){var e=this,t=new r(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,i=e.b,o=e.c,a=e.d,s=e.tx,l=e.ty;if(0==i&&0==o)return 0==n||0==a?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,a=t.d=1/a,t.tx=-n*s,t.ty=-a*l),t;var u=n*a-i*o;if(0==u)return t.identity(),t;u=1/u;var c=t.a=a*u;return i=t.b=-i*u,o=t.c=-o*u,a=t.d=n*u,t.tx=-(c*s+o*l),t.ty=-(i*s+a*l),t},r.prototype.createBox=function(e,i,r,o,s,l,u,c,d){var _=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)_.a=r,_.b=_.c=0,_.d=o;else{l*=a,u*=a;var p=t(l),h=n(l);l==u?(_.a=p*r,_.b=h*r):(_.a=t(u)*r,_.b=n(u)*r),_.c=-h*o,_.d=p*o}_.tx=e+c-(c*_.a+d*_.c),_.ty=i+d-(c*_.b+d*_.d)},r.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},r.prototype.concat=function(e){var t=this,n=t.a,i=t.b,r=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,u=e.b,c=e.c,d=e.d,_=e.tx,p=e.ty;t.a=n*l+i*c,t.b=n*u+i*d,t.c=r*l+o*c,t.d=r*u+o*d,t.tx=a*l+s*c+_,t.ty=a*u+s*d+p},r.prototype.rotate=function(e){var t=this,n=Math.sin(e),i=Math.cos(e),r=t.a,o=t.b,a=t.c,s=t.d,l=t.tx,u=t.ty;t.a=r*i-o*n,t.b=r*n+o*i,t.c=a*i-s*n,t.d=a*n+s*i,t.tx=l*i-u*n,t.ty=l*n+u*i},r.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},r.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},r.prototype.destroy=function(){},r}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0);var o=e.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="annie.Rectangle",a.x=t,a.y=n,a.height=r,a.width=i,o}return __extends(t,e),t.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},t.createFromRects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0==e.length)return null;if(1==e.length)return e[0];for(var n=e[0],i=n.x,r=n.y,o=n.width,a=n.height,s=void 0,l=void 0,u=void 0,c=void 0,d=1;d<e.length;d++)s=i+o,u=r+a,l=e[d].x+e[d].width,c=e[d].y+e[d].height,(i>e[d].x||0==s)&&(i=e[d].x),(r>e[d].y||0==u)&&(r=e[d].y),s<l&&(s=l),u<c&&(u=c),n.x=i,n.y=r,n.width=s-i,n.height=u-r;return n},t.createFromPoints=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t[0].x,r=t[0].y,o=t[0].x,a=t[0].y,s=1;s<t.length;s++)null!=t[s]&&(i>t[s].x&&(i=t[s].x),r>t[s].y&&(r=t[s].y),o<t[s].x&&(o=t[s].x),a<t[s].y&&(a=t[s].y));return e.x=i,e.y=r,e.width=o-i,e.height=a-r,e},t.createRectform2Point=function(e,t,n){var i=t.x,r=t.y,o=t.x,a=t.y;i>n.x&&(i=n.x),r>n.y&&(r=n.y),o<n.x&&(o=n.x),a<n.y&&(a=n.y),e.x=i,e.y=r,e.width=o-i,e.height=a-r},t.testRectCross=function(e,t){var n,i,r,o;return n=e.x+e.width/2,i=e.y+e.height/2,r=t.x+t.width/2,o=t.y+t.height/2,Math.abs(n-r)<=e.width/2+t.width/2&&Math.abs(i-o)<=e.height/2+t.height/2},t.prototype.destroy=function(){},t}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._UI={UD:!1,UM:!0,UA:!0,UF:!1},n.stage=null,n.parent=null,n.cAlpha=1,n.cMatrix=new e.Matrix,n.mouseEnable=!0,n.cFilters=[],n.name="",n._x=0,n._y=0,n._scaleX=1,n._scaleY=1,n._rotation=0,n._alpha=1,n._skewX=0,n._skewY=0,n._anchorX=0,n._anchorY=0,n._visible=!0,n._matrix=new e.Matrix,n._mask=null,n._filters=[],n._cp=!0,n._dragBounds=new e.Rectangle,n._isDragCenter=!1,n._lastDragPoint=new e.Point,n._isUseToMask=0,n._texture=null,n._offsetX=0,n._offsetY=0,n._bounds=new e.Rectangle,n._drawRect=new e.Rectangle,n.soundList=[],n._a2x_res_obj={},n._instanceType="annie.DisplayObject",n}return __extends(n,t),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._setProperty("_x",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._setProperty("_y",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){this._setProperty("_scaleX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){this._setProperty("_scaleY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._setProperty("_rotation",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._setProperty("_alpha",e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){this._setProperty("_skewX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){this._setProperty("_skewY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){this._setProperty("_anchorX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){this._setProperty("_anchorY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){var t=this;e!=t._visible&&(t._visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(e){var t=this;e!=t._mask&&(e?e._isUseToMask++:null!=t._mask&&t._mask._isUseToMask--,t._mask=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._setProperty("_filters",e,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this.cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){void 0===t&&(t=null);var n=this;return n.parent?n.parent.cMatrix.transformPoint(e.x,e.y,t):n.cMatrix.transformPoint(e.x,e.y,t)},n.prototype.startDrag=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null);var i=this;if(!i.stage)return void console.log("The DisplayObject is not on stage");e.Stage._dragDisplay=i,i._isDragCenter=t,i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE,n?(i._dragBounds.x=n.x,i._dragBounds.y=n.y,i._dragBounds.width=n.width,i._dragBounds.height=n.height):(i._dragBounds.x=0,i._dragBounds.y=0,i._dragBounds.width=0,i._dragBounds.height=0)},n.prototype.stopDrag=function(){e.Stage._dragDisplay==this&&(e.Stage._dragDisplay=null)},n.prototype.hitTestPoint=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=this;if(!r.visible||!r.mouseEnable&&i)return null;var o;return o=t?r.globalToLocal(e,n._bp):e,r.getBounds().isPointIn(o)?r:null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(){var t=this,i=t.getBounds();if(t._mask){var r=t._mask.getDrawRect();i.x<r.x&&(i.x=r.x),i.y<r.y&&(i.y=r.y),i.width>r.width&&(i.width=r.width),i.height>r.height&&(i.height=r.height)}return t.matrix.transformPoint(i.x,i.y,n._p1),t.matrix.transformPoint(i.x+i.width,i.y,n._p2),t.matrix.transformPoint(i.x+i.width,i.y+i.height,n._p3),t.matrix.transformPoint(i.x,i.y+i.height,n._p4),e.Rectangle.createFromPoints(t._drawRect,n._p1,n._p2,n._p3,n._p4),t._drawRect},n.prototype.update=function(e){void 0===e&&(e=!0);var t=this;if(t._visible){var n=t._UI;t._cp&&(n.UM=n.UA=n.UF=!0,t._cp=!1),n.UM&&t._matrix.createBox(t._x,t._y,t._scaleX,t._scaleY,t._rotation,t._skewX,t._skewY,t._anchorX,t._anchorY),n.UM&&(t.cMatrix.setFrom(t._matrix),t.parent&&t.cMatrix.prepend(t.parent.cMatrix)),n.UA&&(t.cAlpha=t._alpha,t.parent&&(t.cAlpha*=t.parent.cAlpha)),n.UF}},n.prototype.render=function(e){e.draw(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(e){var t=this,n=t.width;if(e>0&&n>0){var i=e/n;t.scaleX*=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(e){var t=this,n=t.height;if(e>0&&n>0){var i=e/n;t.scaleY*=i}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var e=this;e.update();var t=e.getDrawRect();return{width:t.width,height:t.height}},n.prototype._setProperty=function(e,t,n){var i=this;if(i[e]!=t){i[e]=t;var r=i._UI;0==n?r.UM=!0:1==n?r.UA=!0:2==n?r.UF=!0:3==n&&(r.UD=!0)}},n.prototype.stopAllSounds=function(){var e=this.soundList;if(e)for(var t=e.length-1;t>=0;t--)e[t].stop()},n.prototype.getSound=function(e){var t=this.soundList,n=[];if(t)if("string"==typeof e)for(var i=t.length-1;i>=0;i--)t[i].name==e&&n.push(t[i]);else e>=0&&e<t.length&&n.push(t[e]);return n},n.prototype.addSound=function(e){var t=this;t.soundList||(t.soundList=[]),t.soundList.push(e)},n.prototype.removeSound=function(e){var t=this.soundList;if(t)if("string"==typeof e)for(var n=t.length-1;n>=0;n--)t[n].name==e&&t.splice(e,1);else e>=0&&e<t.length&&t.splice(e,1)},n.prototype.destroy=function(){var e=this;e.stopAllSounds();for(var n=0;n<e.soundList.length;n++)e.soundList[n].destroy();e._a2x_res_obj=null,e.mask=null,e.filters=null,e.parent=null,e.stage=null,e._bounds=null,e._drawRect=null,e._dragBounds=null,e._lastDragPoint=null,e.cFilters=null,e._matrix=null,e.cMatrix=null,e._UI=null,e._texture=null,e._visible=!1,t.prototype.destroy.call(this)},n.prototype.callEventAndFrameScript=function(t){var n=this;if(n.stage){var i=n.soundList;if(0==t){if(n.dispatchEvent(e.Event.REMOVE_TO_STAGE),i.length>0)for(var r=0;r<i.length;r++)i[r].stop2()}else{if(1==t){if(i.length>0)for(var r=0;r<i.length;r++)i[r].play2();n.dispatchEvent(e.Event.ADD_TO_STAGE)}n._visible&&n.dispatchEvent(e.Event.ENTER_FRAME)}}},n._bp=new e.Point,n._p1=new e.Point,n._p2=new e.Point,n._p3=new e.Point,n._p4=new e.Point,n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){var n=e.call(this)||this,i=n;return i._instanceType="annie.Bitmap","string"==typeof t?(i._texture=wx.createImage(),i._texture.onload=function(){i._bounds.width=i._texture.width,i._bounds.height=i._texture.height},i._texture.src=t):(i._texture=t,i._bounds.width=i._texture.width,i._bounds.height=i._texture.height),n}return __extends(t,e),t.prototype.destroy=function(){this._texture="",e.prototype.destroy.call(this)},t.prototype.update=function(t){void 0===t&&(t=!0);var n=this;if(n._visible){e.prototype.update.call(this,t);var i=n._UI;i.UM=i.UA=i.UF=!1}},t}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._command=[],e.hitTestWithPixel=!0,e.beginRadialGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},e.beginRadialGradientStroke=function(e,t,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),i,r,o,a)},e.decodePath=function(e){for(var t=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=e.length,r=0;r<i;r++)0==e[r]||1==e[r]?(t.addDraw(n[e[r]],[e[r+1],e[r+2]]),r+=2):(t.addDraw(n[e[r]],[e[r+1],e[r+2],e[r+3],e[r+4]]),r+=4)},e._offsetX=0,e._offsetY=0,e._instanceType="annie.Shape",e}return __extends(n,t),n.getGradientColor=function(t,i){var r,o=e.CanvasRender.drawCtx;r=4==t.length?o.createLinearGradient(t[0],t[1],t[2],t[3]):o.createRadialGradient(t[0],t[1],0,t[2],t[3],t[4]);for(var a=0,s=i.length;a<s;a++)r.addColorStop(i[a][0],n.getRGBA(i[a][1],i[a][2]));return r},n.getBitmapStyle=function(t){return e.CanvasRender.drawCtx.createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){e="rgba("+parseInt("0x"+e.substr(1,2))+","+parseInt("0x"+e.substr(3,2))+","+parseInt("0x"+e.substr(5,2))+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._UI.UD=!0,n._command[n._command.length]=[1,e,t]},n.prototype.drawRoundRect=function(e,t,n,i,r,o,a,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,u=0,c=0,d=0,_=0;r<0&&(r*=u=-1),r>l&&(r=l),o<0&&(o*=c=-1),o>l&&(o=l),s<0&&(s*=d=-1),s>l&&(s=l),a<0&&(a*=_=-1),a>l&&(a=l);var p=this._command;p[p.length]=[1,"moveTo",[e+n-o,t]],p[p.length]=[1,"arcTo",[e+n+o*c,t-o*c,e+n,t+o,o]],p[p.length]=[1,"lineTo",[e+n,t+i-s]],p[p.length]=[1,"arcTo",[e+n+s*d,t+i+s*d,e+n-s,t+i,s]],p[p.length]=[1,"lineTo",[e+a,t+i]],p[p.length]=[1,"arcTo",[e-a*_,t+i+a*_,e,t+i-a,a]],p[p.length]=[1,"lineTo",[e,t+r]],p[p.length]=[1,"arcTo",[e-r*u,t-r*u,e+r,t,r]],p[p.length]=[1,"closePath",[]]},n.prototype.moveTo=function(e,t){this._command[this._command.length]=[1,"moveTo",[e,t]]},n.prototype.lineTo=function(e,t){this._command[this._command.length]=[1,"lineTo",[e,t]]},n.prototype.arcTo=function(e,t){this._command[this._command.length]=[1,"arcTo",[e,t]]},n.prototype.quadraticCurveTo=function(e,t,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[e,t,n,i]]},n.prototype.bezierCurveTo=function(e,t,n,i,r,o){this._command[this._command.length]=[1,"bezierCurveTo",[e,t,n,i,r,o]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(e,t,n,i){var r=this._command;r[r.length]=[1,"moveTo",[e,t]],r[r.length]=[1,"lineTo",[e+n,t]],r[r.length]=[1,"lineTo",[e+n,t+i]],r[r.length]=[1,"lineTo",[e,t+i]],r[r.length]=[1,"closePath",[]]},n.prototype.drawArc=function(e,t,n,i,r){this._command[this._command.length]=[1,"arc",[e,t,n,i/180*Math.PI,r/180*Math.PI]]},n.prototype.drawCircle=function(e,t,n){this._command[this._command.length]=[1,"arc",[e,t,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(e,t,n,i){var r=.5522848,o=n/2*r,a=i/2*r,s=e+n,l=t+i,u=e+n/2,c=t+i/2,d=this._command;d[d.length]=[1,"moveTo",[e,c]],d[d.length]=[1,"bezierCurveTo",[e,c-a,u-o,t,u,t]],d[d.length]=[1,"bezierCurveTo",[u+o,t,s,c-a,s,c]],d[d.length]=[1,"bezierCurveTo",[s,c+a,u+o,l,u,l]],d[d.length]=[1,"bezierCurveTo",[u-o,l,e,c+a,e,c]]},n.prototype.clear=function(){var e=this;e._command=[],e._UI.UD=!0,e._offsetX=0,e._offsetY=0,e._bounds.width=0,e._bounds.height=0},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},n.prototype.beginBitmapFill=function(e,t){var i=this;t&&(i._isBitmapFill=t),i._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this,n=t._command;n[n.length]=[0,"fillStyle",e],n[n.length]=[1,"beginPath",[]],t._UI.UD=!0},n.prototype.beginStroke=function(e,t,n,i,r){void 0===t&&(t=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),this._stroke(e,t,n,i,r)},n.prototype.beginLinearGradientStroke=function(e,t,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(e,t),i,r,o,a)},n.prototype.beginBitmapStroke=function(e,t,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),i,r,o,a)},n.prototype._stroke=function(e,t,i,r,o){var a=this._command;a[a.length]=[0,"lineWidth",t],a[a.length]=[0,"lineCap",n._caps[i]],a[a.length]=[0,"lineJoin",n._joins[r]],a[a.length]=[0,"miterLimit",o],a[a.length]=[0,"strokeStyle",e],a[a.length]=[1,"beginPath",[]],this._UI.UD=!0},n.prototype.endFill=function(){var e=this,t=e._command;t[t.length]=[1,"fill",[]]},n.prototype.endStroke=function(){var e=this,t=e._command;t[t.length]=[1,"stroke",[]]},n.prototype.setLineDash=function(e){void 0===e&&(e=[]);var t=this._command;t[t.length]=[1,"setLineDash",[e,0]]},n.prototype.update=function(e){void 0===e&&(e=!1);var n=this;if(n._visible){if(t.prototype.update.call(this,e),n._UI.UD||n._UI.UF){var i=n._command.length,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;if(i>0){var u=void 0,c=0,d=0,_=0;for(l=0;l<i;l++)if(u=n._command[l],1==u[0]){if("moveTo"==u[1]||"lineTo"==u[1]||"arcTo"==u[1]||"bezierCurveTo"==u[1])void 0==r&&(r=u[2][0]),void 0==o&&(o=u[2][1]),void 0==a&&(a=u[2][0]),void 0==s&&(s=u[2][1]),"bezierCurveTo"==u[1]?(r=Math.min(r,u[2][0],u[2][2],u[2][4]),o=Math.min(o,u[2][1],u[2][3],u[2][5]),a=Math.max(a,u[2][0],u[2][2],u[2][4]),s=Math.max(s,u[2][1],u[2][3],u[2][5]),c=u[2][4],d=u[2][5]):(r=Math.min(r,u[2][0]),o=Math.min(o,u[2][1]),a=Math.max(a,u[2][0]),s=Math.max(s,u[2][1]),c=u[2][0],d=u[2][1]);else if("quadraticCurveTo"==u[1]){var p=.5*(c+u[2][0]),h=.5*(d+u[2][1]),f=.5*(u[2][0]+u[2][2]),v=.5*(u[2][1]+u[2][3]);void 0==r&&(r=p),void 0==o&&(o=h),void 0==a&&(a=p),void 0==s&&(s=h),r=Math.min(r,p,f,u[2][2]),o=Math.min(o,h,v,u[2][3]),a=Math.max(a,p,f,u[2][2]),s=Math.max(s,h,v,u[2][3]),c=u[2][2],d=u[2][3]}else if("arc"==u[1]){var g=u[2][0],y=u[2][1],m=u[2][2],b=g-m,x=y-m,M=g+m,w=y+m;void 0==r&&(r=b),void 0==o&&(o=x),void 0==a&&(a=M),void 0==s&&(s=w),r=Math.min(r,b),o=Math.min(o,x),a=Math.max(a,M),s=Math.max(s,w)}}else"lineWidth"==u[1]&&_<u[2]&&(_=u[2]);if(void 0!=r||_>0){void 0==r&&(r=0,o=0),r-=_>>1,o-=_>>1,a+=_>>1,s+=_>>1;var P=a-r,E=s-o;n._offsetX=r,n._offsetY=o,n._bounds.x=r,n._bounds.y=o,n._bounds.width=P,n._bounds.height=E}}n._UI.UD=!1}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype._draw=function(e,t){void 0===t&&(t=!1);var n,i=this,r=i._command,o=r.length,a=i._offsetX,s=i._offsetY,l=!1;t&&e.beginPath();for(var u=0;u<o;u++)if(n=r[u],n[0]>0){var c=n[2].length;if(t&&(l||"beginPath"==n[1]||"closePath"==n[1]||0==c))continue;if(0==c)e[n[1]]();else if(2==c)e[n[1]](n[2][0],n[2][1]);else if(4==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==c){var d=n[2][4],_=n[2][5];2==n[0]&&(d-=a,_-=s),e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],d,_)}}else t?"strokeStyle"==n[1]?l=!0:"fillStyle"==n[1]&&(l=!1):e[n[1]]=n[2];t&&e.closePath()},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,i=t._command,r=0;r<n;r++)0==i[r][0]&&("fillStyle"==i[r][1]&&e.fillColor&&i[r][2]!=e.fillColor&&(i[r][2]=e.fillColor,t._UI.UD=!0),"strokeStyle"==i[r][1]&&e.strokeColor&&i[r][2]!=e.strokeColor&&(i[r][2]=e.strokeColor,t._UI.UD=!0),"lineWidth"==i[r][1]&&e.lineWidth&&i[r][2]!=e.lineWidth&&(i[r][2]=e.lineWidth,t._UI.UD=!0))},n.prototype.render=function(e){t.prototype.render.call(this,e)},n.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(e.DisplayObject);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.mouseChildren=!0,e.children=[],e._removeChildren=[],e._instanceType="annie.Sprite",e}return __extends(n,t),n.prototype.destroy=function(){for(var e=this,n=0;n<e.children.length;n++)e.children[n].destroy();e.removeAllChildren(),e.parent&&e.parent.removeChild(e),e.callEventAndFrameScript(0),e.children.length=0,e._removeChildren.length=0,t.prototype.destroy.call(this)},n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e){t.removeChildAt(i);break}},n._getElementsByName=function(e,t,i,r,o){var a=t.children.length;if(a>0)for(var s,l=void 0,u=0;u<a;u++){if(l=t.children[u],(s=l.name)&&""!=s&&e.test(s)&&(o[o.length]=l,i))return;r&&null!=l.children&&n._getElementsByName(e,l,i,r,o)}},n.prototype.getChildByName=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!1),!e)return null;var r,o=this;r="string"==typeof e?new RegExp("^"+e+"$"):e;var a=[];n._getElementsByName(r,o,t,i,a);var s=a.length;return 0==s?null:1==s?a[0]:a},n.prototype.addChildAt=function(e,t){if(e){var n,i=this,r=i==e.parent,o=e.parent;if(o)if(r){n=i.children.length;for(var a=0;a<n;a++)if(i.children[a]==e){i.children.splice(a,1);break}}else{var s=o.children;n=s.length;for(var l=!0,a=0;a<n;a++)if(s[a]==e){s.splice(a,1),l=!1;break}if(l){var u=o._removeChildren;n=u.length;for(var a=0;a<n;a++)if(u[a]==e){u.splice(a,1);break}}}n=i.children.length,t>=n?i.children[i.children.length]=e:0==t?i.children.unshift(e):i.children.splice(t,0,e),o!=i&&(e._cp=!0,e.parent=i)}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e)return i;return-1},n.prototype.swapChild=function(e,t){var n=this,i=-1,r=-1,o=n.children.length;if(i="number"==typeof e?e:n.getChildIndex(e),r="number"==typeof t?t:n.getChildIndex(t),i==r||i<0||i>=o||r<0||r>=o)return!1;var a=n.children[i];return n.children[i]=n.children[r],n.children[r]=a,!0},n.prototype.removeChildAt=function(e){var t,n=this,i=n.children.length-1;i<0||(t=e==i?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],n._removeChildren.push(t))},n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.update=function(e){void 0===e&&(e=!0);var n=this;if(n._visible){t.prototype.update.call(this,e);var i=n._UI.UM,r=n._UI.UA,o=n._UI.UF;n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1;for(var a=n.children.length,s=null,l=a-1;l>=0;l--)s=n.children[l],i&&(s._UI.UM=i),o&&(s._UI.UF=o),r&&(s._UI.UA=r),s.update(e)}},n.prototype.hitTestPoint=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=this;if(!i.visible||!i.mouseEnable&&n)return null;for(var r,o,a=i.children.length,s=a-1;s>=0;s--)if(o=i.children[s],!(o._isUseToMask>0)&&(!o.mask||o.mask.parent!=o.parent||o.mask.hitTestPoint(e,t,n))&&(r=o.hitTestPoint(e,t,n)))return r;return null},n.prototype.getBounds=function(){var t=this,n=t._bounds;n.x=0,n.y=0,n.width=0,n.height=0;var i=t.children.length;if(i>0){for(var r=0;r<i;r++)t.children[r].visible&&e.Rectangle.createFromRects(n,t.children[r].getDrawRect());if(t.mask&&t.mask.parent==t.parent){var o=t.mask.getDrawRect();n.x<o.x&&(n.x=o.x),n.y<o.y&&(n.y=o.y),n.width>o.width&&(n.width=o.width),n.height>o.height&&(n.height=o.height)}}return n},n.prototype.render=function(e){var n=this;if(!n._cp&&n._visible)if(n._cacheAsBitmap)t.prototype.render.call(this,e);else if(n.cAlpha>0&&n._visible){for(var i=void 0,r=void 0,o=n.children.length,a=0;a<o;a++)r=n.children[a],r._isUseToMask>0||r.cAlpha>0&&r._visible&&(i?r.mask&&r.mask.parent==r.parent?r.mask!=i&&(e.endMask(),i=r.mask,e.beginMask(i)):(e.endMask(),i=null):r.mask&&r.mask.parent==r.parent&&(i=r.mask,e.beginMask(i)),r.render(e));i&&e.endMask()}},n.prototype.callEventAndFrameScript=function(e){var n=this,i=null,r=null,o=0;if(0==e){r=n.children,o=r.length;for(var a=o-1;a>=0;a--)i=r[a],i.callEventAndFrameScript(e),i.stage=null;r=n._removeChildren,o=r.length;for(var a=o-1;a>=0;a--)i=r[a],i.callEventAndFrameScript(e),i.stage=null,i.parent=null}else if(1==e){r=n.children,o=r.length;for(var a=o-1;a>=0;a--)i=r[a],i.stage=n.stage,i.parent=n,i.callEventAndFrameScript(e)}else if(2==e){r=n.children,o=r.length;for(var a=o-1;a>=0;a--)i=r[a],i.stage?i.callEventAndFrameScript(2):(i.stage=n.stage,i.parent=n,i.callEventAndFrameScript(1));r=n._removeChildren,o=r.length;for(var a=o-1;a>=0;a--)i=r[a],i.callEventAndFrameScript(0),i.stage=null,i.parent=null}n._removeChildren.length=0,t.prototype.callEventAndFrameScript.call(this,e)},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._curFrame=1,e._wantFrame=0,e._lastFrameObj=null,e._isPlaying=!0,e._isFront=!0,e._lastFrame=0,e._a2x_res_class={tf:1},e._a2x_res_children=[],e._a2x_script=null,e._mode=-2,e._clicked=!1,e.isUpdateFrame=!1,e._a2x_sounds=null,e._instanceType="annie.MovieClip",e}return __extends(n,t),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var e=this;return e._wantFrame>0?e._wantFrame:e._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){this._isPlaying=!1},n.prototype.addFrameScript=function(e,t){var n=this;void 0==n._a2x_script&&(n._a2x_script={}),n._a2x_script[e]=t},n.prototype.removeFrameScript=function(e){var t=this;void 0!=t._a2x_script&&(t._a2x_script[e]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var e=this;-1!=e._mode&&e._a2x_res_class.tf>1&&(e.mouseChildren=!1,e.addEventListener("onMouseDown",e._mouseEvent.bind(e)),e.addEventListener("onMouseUp",e._mouseEvent.bind(e)),e.addEventListener("onMouseOut",e._mouseEvent.bind(e)),e.gotoAndStop(1),e._mode=-1)},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(e){var t=this;e!=t._clicked&&(e?t._mouseEvent({type:"onMouseDown"}):t.gotoAndStop(1),t._clicked=e)},enumerable:!0,
configurable:!0}),n.prototype._mouseEvent=function(e){var t=this;if(!t._clicked){var n=2;"onMouseDown"==e.type?t._curFrame>2&&(n=3):n=1,t.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var e=this;return e._a2x_res_class.tf>1&&e._a2x_res_class.l[e._curFrame-1]?e._a2x_res_class.l[e._curFrame-1]:null},n.prototype.nextFrame=function(){var e=this;0==e._wantFrame&&(e._wantFrame=e._curFrame),e._wantFrame<e.totalFrames&&(e._wantFrame+=1),e._isPlaying=!1},n.prototype.prevFrame=function(){var e=this;0==e._wantFrame&&(e._wantFrame=e._curFrame),e._wantFrame>1&&(e._wantFrame-=1),e._isPlaying=!1},n.prototype.gotoAndStop=function(e){var t=this;t._isPlaying=!1;var n=t._a2x_res_class;"string"==typeof e?e=void 0!=n.label[e]?n.label[e]:t._curFrame:"number"==typeof e&&(e>n.tf&&(e=n.tf),e<1&&(e=1)),t._wantFrame=e},n.prototype.play=function(e){void 0===e&&(e=!0);var t=this;if(t._isPlaying=!0,t._isFront=e,!(t._wantFrame>0)){var n=t._curFrame;t._isFront?n++:n--,n>t.totalFrames?n=1:n<1&&(n=t.totalFrames),t._wantFrame=n}},n.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this;n._isFront=t,n._isPlaying=!0;var i=n._a2x_res_class;"string"==typeof e?e=void 0!=i.label[e]?i.label[e]:n._curFrame:"number"==typeof e&&(e>i.tf&&(e=i.tf),e<1&&(e=1)),n._wantFrame=e},n.prototype.update=function(i){void 0===i&&(i=!0);var r=this;if(r._visible&&r._a2x_res_class.tf>1&&(i||r._wantFrame)&&(r._mode>=0?(r._isPlaying=!1,r._curFrame=r.parent._curFrame-r._mode):0!=r._wantFrame&&(r._curFrame=r._wantFrame,r._wantFrame=0),r._lastFrame==r._curFrame&&r._isPlaying&&(r._isFront?++r._curFrame>r._a2x_res_class.tf&&(r._curFrame=1):--r._curFrame<1&&(r._curFrame=r._a2x_res_class.tf)),r._lastFrame!=r._curFrame)){r._mode<0&&(r.isUpdateFrame=!0),r._lastFrame=r._curFrame;var o=r._a2x_res_class,a=r._a2x_res_children,s=a.length,l=0,u=null,c=null,d=o.f[o.timeLine[r._curFrame-1]];if(r._lastFrameObj!=d){r._lastFrameObj=d,r.children.length=0,r._removeChildren.length=0;for(var _=null,p=-1,h=s-1;h>=0;h--)l=a[h][0],u=a[h][1],c=d&&d.c?d.c[l]:null,c&&e.d(u,c),c||0==l?(void 0!=c.ma?(_=u,p=c.ma):_&&(u.mask=_,l==p&&(_=null)),r.children.unshift(u),u.parent&&r.parent==r||(u._cp=!0,u.parent=r)):u.parent&&(r._removeChildren.push(u),n._resetMC(u))}}t.prototype.update.call(this,i)},n.prototype.callEventAndFrameScript=function(n){var i=this;if(i.isUpdateFrame){var r=i._a2x_res_class;i.isUpdateFrame=!1;var o=i._curFrame-1,a=void 0,s=!1,l=i._isFront;if(i._a2x_script&&void 0!=(a=i._a2x_script[o])&&(null!=a&&a(),s=!0),s||(a=r.a[o])&&i[a[0]](void 0==a[1]||a[1],void 0==a[2]||a[2]),i.hasEventListener(e.Event.CALL_FRAME)&&(a=r.e[o]))for(var u=0;u<a.length;u++)i.dispatchEvent(e.Event.CALL_FRAME,{frameIndex:i._curFrame,frameName:a[u]});(1==i._curFrame&&!l||i._curFrame==i._a2x_res_class.tf&&l)&&i.hasEventListener(e.Event.END_FRAME)&&i.dispatchEvent(e.Event.END_FRAME,{frameIndex:i._curFrame,frameName:"endFrame"});var c=r.s[o];if(c)for(var d in c)i._a2x_sounds[d-1].play(0,c[d])}t.prototype.callEventAndFrameScript.call(this,n)},n._resetMC=function(e){var t=!1;if("annie.MovieClip"==e._instanceType?(e._wantFrame=1,e._lastFrame=0,e._isFront=!0,e._mode<-1?e._isPlaying=!0:e._isPlaying=!1,t=!0):"annie.Sprite"==e._instanceType&&(t=!0),t)for(var i=0;i<e.children.length;i++)n._resetMC(e.children[i])},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),e._lastFrameObj=null,e._a2x_script=null,e._a2x_res_children=null,e._a2x_res_class=null,e._a2x_sounds=null},n}(e.Sprite);e.MovieClip=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._textAlign="left",e._textAlpha=1,e._textHeight=0,e._lineHeight=14,e._textWidth=120,e._lineType="single",e._textOffX=0,e._text="",e._font="Arial",e._size=12,e._color="#fff",e._italic=!1,e._bold=!1,e._stroke=0,e._strokeColor="#000",e._border=!1,e._instanceType="annie.TextField",e}return __extends(n,t),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._setProperty("_textAlign",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(e){this._setProperty("_textAlpha",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(e){this._setProperty("_textHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._setProperty("_lineHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(e){this._setProperty("_textWidth",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(e){this._setProperty("_lineType",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){this._setProperty("_text",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){this._setProperty("_font",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._setProperty("_size",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){this._setProperty("_color",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(e){this._setProperty("_italic",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(e){this._setProperty("_bold",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(e){this._setProperty("_border",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._setProperty("_stroke",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){this._setProperty("_strokeColor",e,3)},enumerable:!0,configurable:!0}),n.prototype._draw=function(t){var n=this,i=n.realLines;t.font=n.fontInfo,t.fillStyle=e.Shape.getRGBA(n._color,n._textAlpha),t.textAlign=n._textAlign,t.textBaseline="top";for(var r=0;r<i.length;r++)n._stroke>0&&t.strokeText(n.realLines[r],n._textOffX,r*n.lineHeight,n._bounds.width),t.fillText(n.realLines[r],n._textOffX,r*n.lineHeight,n._bounds.width),n._stroke<0&&t.strokeText(n.realLines[r],n._textOffX,r*n.lineHeight,n._bounds.width)},n.prototype._getMeasuredWidth=function(t){return e.CanvasRender.drawCtx.measureText(t).width},n.prototype.getTextWidth=function(t){void 0===t&&(t=0);var n=this;return n.update(),e.CanvasRender.drawCtx.measureText(n.realLines[t]).width},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype.update=function(n){void 0===n&&(n=!1),t.prototype.update.call(this,n);var i=this;if(i._visible){if(i._UI.UD||i._UI.UF){i._text+="";var r=e.CanvasRender.drawCtx,o=i._text.toString().split(/(?:\r\n|\r|\n)/);i.realLines=[],i.fontInfo=i.size||12,i.fontInfo+="px ",i.fontInfo+=i.font,i._bold&&(i.fontInfo="bold "+i.fontInfo),i._italic&&(i.fontInfo="italic "+i.fontInfo),r.font=i.fontInfo;var a=i._lineHeight;if(i._text.indexOf("\n")<0&&"single"==i.lineType){i.realLines[i.realLines.length]=o[0];var s=o[0];if(i._getMeasuredWidth(s)>i._textWidth)for(var l=i._getMeasuredWidth(s[0]),u=s[0],c=0,d=s.length,_=1;_<d;_++){if(c=r.measureText(s[_]).width,(l+=c)>i._textWidth){i.realLines[0]=u;break}u+=s[_]}}else for(var p=0,h=o.length;p<h;p++){var s=o[p];if(s){for(var l=i._getMeasuredWidth(s[0]),u=s[0],c=0,d=s.length,_=1;_<d;_++)c=r.measureText(s[_]).width,l+=c,l>i._textWidth?(i.realLines[i.realLines.length]=u,u=s[_],l=c):u+=s[_];i.realLines[i.realLines.length]=u}}var f=a*i.realLines.length,v=i._textWidth;"center"==i._textAlign?i._textOffX=.5*v:"right"==i._textAlign?i._textOffX=v:i._textOffX=0,i._UI.UD=!1,i._bounds.height=f,i._bounds.width=v}i._UI.UM=!1,i._UI.UA=!1,i._UI.UF=!1}},n}(e.DisplayObject);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,r,o,a,s){void 0===r&&(r=640),void 0===o&&(o=1040),void 0===a&&(a=30),void 0===s&&(s="fixedHeight");var l=t.call(this)||this;l.renderObj=null,l.viewRect=new e.Rectangle,l.isMultiTouch=!1,l.isMultiMouse=!1,l.desWidth=0,l.desHeight=0,l.divHeight=0,l.divWidth=0,l.bgColor="",l._scaleMode="onScale",l._flush=0,l._currentFlush=0,l._lastDpList={},l._ml=[],l._mp=[],l._mouseDownPoint={},l._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",ontouchstart:"onMouseDown",ontouchmove:"onMouseMove",ontouchend:"onMouseUp"},l.muliPoints=[],l._mP1=new e.Point,l._mP2=new e.Point,l._onMouseEvent=function(t){var i=this,r=n._dragDisplay;if(i.isMultiTouch&&t.changedTouches&&t.changedTouches.length>1){if(2==t.changedTouches.length){i._mP1.x=t.changedTouches[0].clientX,i._mP1.y=t.changedTouches[0].clientY,i._mP2.x=t.changedTouches[1].clientX,i._mP2.y=t.changedTouches[1].clientY;var o=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,a=e.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:o,dis:a}),i.muliPoints.length>=2){i._touchEvent||(i._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var s=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[s-1].angle-i.muliPoints[s-2].angle),i._touchEvent.scale=(i.muliPoints[s-1].dis-i.muliPoints[s-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[s-1].p1.x*e.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[s-1].p2.x*e.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[s-1].p1.y*e.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[s-1].p2.y*e.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;r&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),i._mouseDownPoint={},i._lastDpList={}}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),e.EventDispatcher._totalMEC>0){var l,u=void 0,c=i._mouseEventTypes[t.type],d=void 0,_=void 0,p=void 0,h=void 0,f=void 0,v=void 0;u=i.isMultiMouse?t.changedTouches:[t.changedTouches[0]];for(var g=0;g<u.length;g++)if(f=0,d=[],v=u[g].identifier,h=i._mp.length>0?i._mp.shift():new e.Point,h.x=u[g].clientX*e.devicePixelRatio,h.y=u[g].clientY*e.devicePixelRatio,_=i.globalToLocal(h,e.DisplayObject._bp),i._ml[f]?(l=i._ml[f],l.type=c):(l=new e.MouseEvent(c),i._ml[f]=l),d[d.length]=l,i._initMouseEvent(l,h,_,v),f++,"onMouseDown"==c?i._mouseDownPoint[v]=h:"onMouseUp"==c&&i._mouseDownPoint[v]&&e.Point.distance(i._mouseDownPoint[v],h)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[f]?(l=i._ml[f],l.type="onMouseClick"):(l=new e.MouseEvent("onMouseClick"),i._ml[f]=l),d[d.length]=l,i._initMouseEvent(l,h,_,v),f++),f>0){var y=i.hitTestPoint(h,!0,!0),m=[];if(y)for(;y;)!1===y.mouseChildren&&(m.length=0),m[m.length]=y,y=y.parent;else m[m.length]=i;for(var s=m.length,b=s-1;b>=0;b--){y=m[b];for(var x=0;x<f;x++)d[x]._bpd||y.hasEventListener(d[x].type)&&(d[x].currentTarget=y,d[x].target=m[0],p=y.globalToLocal(h,e.DisplayObject._bp),d[x].localX=p.x,d[x].localY=p.y,y.dispatchEvent(d[x]))}m.reverse();for(var b=s-1;b>=0;b--){y=m[b];for(var x=0;x<f;x++)d[x]._bpd||y.hasEventListener(d[x].type)&&(d[x].currentTarget=y,d[x].target=m[f-1],p=y.globalToLocal(h,e.DisplayObject._bp),d[x].localX=p.x,d[x].localY=p.y,y.dispatchEvent(d[x],null,!1))}if("onMouseDown"!=c){if((e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[v]){var M=i._lastDpList[v].length,w=m.length;s=M>w?M:w;for(var P=!1,E=void 0,O=void 0,b=1;b<s;b++)P||i._lastDpList[v][b]!=m[b]&&(P=!0,i._ml[f]?(E=i._ml[f],E.type="onMouseOver"):(E=new e.MouseEvent("onMouseOver"),i._ml[f]=E),i._initMouseEvent(E,h,_,v),f++,i._ml[f]?(O=i._ml[f],O.type="onMouseOut"):(O=new e.MouseEvent("onMouseOut"),i._ml[f]=O),i._initMouseEvent(O,h,_,v)),P&&(i._lastDpList[v][b]&&!1===O._bpd&&(y=i._lastDpList[v][b],y.hasEventListener("onMouseOut")&&(O.currentTarget=y,O.target=i._lastDpList[v][M-1],p=y.globalToLocal(h,e.DisplayObject._bp),O.localX=p.x,O.localY=p.y,y.dispatchEvent(O))),m[b]&&!1===E._bpd&&(y=m[b],y.hasEventListener("onMouseOver")&&(E.currentTarget=y,E.target=m[w-1],p=y.globalToLocal(h,e.DisplayObject._bp),E.localX=p.x,E.localY=p.y,y.dispatchEvent(E))))}i._mp[i._mp.length]=h}if(r&&r.stage&&r.parent){var T=r.x,F=r.y;p=r.parent.globalToLocal(h,e.DisplayObject._bp),r._isDragCenter?(T=p.x,F=p.y):(r._lastDragPoint.x!=Number.MAX_VALUE&&(T+=p.x-r._lastDragPoint.x,F+=p.y-r._lastDragPoint.y),r._lastDragPoint.x=p.x,r._lastDragPoint.y=p.y),p.x=T,p.y=F,0!=r._dragBounds.width&&(r._dragBounds.isPointIn(p)||(T<r._dragBounds.x?T=r._dragBounds.x:T>r._dragBounds.x+r._dragBounds.width&&(T=r._dragBounds.x+r._dragBounds.width),F<r._dragBounds.y?F=r._dragBounds.y:F>r._dragBounds.y+r._dragBounds.height&&(F=r._dragBounds.y+r._dragBounds.height))),r.x=T,r.y=F}"onMouseUp"==c?(r&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),delete i._mouseDownPoint[v],delete i._lastDpList[v]):i._lastDpList[v]=m}}},l.setAlign=function(){var e=this,t=e.divHeight,n=e.divWidth,i=e.desHeight,r=e.desWidth;e.anchorX=r>>1,e.anchorY=i>>1;var o=t>n,a=i>r,s=1,l=1;if(e.x=n-r>>1,e.y=t-i>>1,e.autoSteering&&a!=o){var u=t;t=n,n=u}if("noScale"!=e._scaleMode)switch(s=t/i,l=n/r,e._scaleMode){case"noBorder":l>s?s=l:l=s;break;case"showAll":l<s?s=l:l=s;break;case"fixedWidth":s=l;break;case"fixedHeight":l=s}e.scaleX=l,e.scaleY=s,e.viewRect.x=r-n/l>>1,e.viewRect.y=i-t/s>>1,e.viewRect.width=r-2*e.viewRect.x,e.viewRect.height=i-2*e.viewRect.y,e.rotation=a==o?0:i>r?-90:90};var u=l;if(l._instanceType="annie.Stage",u.stage=l,u.name="stageInstance"+u._instanceId,u.desWidth=r,u.desHeight=o,u.setFrameRate(a),u.anchorX=r>>1,u.anchorY=o>>1,u.onTouchEvent=u._onMouseEvent.bind(u),u._scaleMode=s,e.isSharedCanvas)u.divWidth=r,u.divHeight=o,u.renderObj=new e.CanvasRender(u,r,o),e.globalDispatcher.addEventListener("onMainStageMsg",function(t){switch(t.data.type){case"canvasResize":break;case e.MouseEvent.CLICK:case e.MouseEvent.MOUSE_MOVE:case e.MouseEvent.MOUSE_UP:case e.MouseEvent.MOUSE_DOWN:case e.MouseEvent.MOUSE_OVER:case e.MouseEvent.MOUSE_OUT:var n=new e.MouseEvent(t.data.type);n.reset(t.data.type,u),n.clientX=n.stageX=n.localX=t.data.x,n.clientY=n.stageY=n.localY=t.data.y,u.dispatchEvent(n)}});else{var c=wx.getSystemInfoSync(),d=e.devicePixelRatio*c.windowWidth,_=e.devicePixelRatio*c.windowHeight;u.divWidth=d,u.divHeight=_,u.renderObj=new e.CanvasRender(u,d,_),wx.onTouchStart(function(e){e.type||(e.type="touchstart"),u.onTouchEvent(e)}),wx.onTouchMove(function(e){e.type||(e.type="touchmove"),u.onTouchEvent(e)}),wx.onTouchEnd(function(e){e.type||(e.type="touchend"),u.onTouchEvent(e)})}return n.addUpdateObj(u),u.setAlign(),setTimeout(function(){u.dispatchEvent(e.Event.INIT_TO_STAGE)},100),l}return __extends(n,t),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(t){var i=n;t!=i._pause&&(i._pause=t,t?e.Sound.stopAllSounds():e.Sound.resumePlaySounds(),e.globalDispatcher.dispatchEvent("onRunChanged",{pause:t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){var t=this;e!=t._scaleMode&&(t._scaleMode=e,t.setAlign())},enumerable:!0,configurable:!0}),n.prototype.render=function(e){e.begin(),t.prototype.render.call(this,e),e.end()},n.prototype._initMouseEvent=function(e,t,n,i){e._pd=!1,e._bpd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y,e.identifier=i},n.prototype.flush=function(){var e=this;0==e._flush?(e.callEventAndFrameScript(2),e.update(!0),e.render(e.renderObj)):0==e._currentFlush?e._currentFlush=e._flush:(e._currentFlush==e._flush&&(e.callEventAndFrameScript(2),e.update(!0),e.render(e.renderObj)),e._currentFlush--)},n.prototype.setFrameRate=function(e){var t=this;t._flush=60/e-1>>0,t._flush<0&&(t._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.kill=function(){n.removeUpdateObj(this)},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){if(!n._pause)for(var e=n.allUpdateObjList.length,t=0;t<e;t++)n.allUpdateObjList[t]&&n.allUpdateObjList[t].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(e){for(var t=!1,i=n.allUpdateObjList.length,r=0;r<i;r++)if(n.allUpdateObjList[r]===e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,i=0;i<t;i++)if(n.allUpdateObjList[i]===e){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){var e=this;n.removeUpdateObj(e),t.prototype.destroy.call(this)},n._pause=!1,n._dragDisplay=null,n.allUpdateObjList=[],n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){var i=t.call(this)||this;i.media=null,i._loop=0,i._repeate=1,i.isPlaying=!0,i.name="";var r=i;return r._instanceType="annie.Sound","string"==typeof n?(r.media=wx.createInnerAudioContext(),r.media.src=n):r.media=n,r.media.onEnded(function(e){r.dispatchEvent("onPlayEnd",e),r._loop>1&&(r._loop--,r.media.startTime=0,r.media.play())}),r.media.onPlay(function(e){r.dispatchEvent("onPlayStart",e)}),r.media.onTimeUpdate(function(e){r.dispatchEvent("onPlayUpdate",e)}),e.Sound._soundList.push(r),i}return __extends(n,t),n.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this;n.media.startTime=e,0==t?n._loop=n._repeate:(n._loop=t,n._repeate=t),n.media.play(),n.isPlaying=!0},n.prototype.stop=function(){var e=this;e.media.stop(),e.isPlaying=!1},n.prototype.pause=function(e){void 0===e&&(e=!0);var t=this;e?(t.media.pause(),t.isPlaying=!1):(t.media.play(),t.isPlaying=!0)},Object.defineProperty(n.prototype,"volume",{get:function(){return this.media.volume},set:function(e){this.media.volume=e},enumerable:!0,configurable:!0}),n.prototype.stop2=function(){var e=this;e.isPlaying&&e.media.pause()},n.prototype.play2=function(){var e=this;e.isPlaying&&e.media.play()},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop2():e.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].play2():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var i=e.Sound._soundList.length,r=i-1;r>=0;r--)e.Sound._soundList[r]?e.Sound._soundList[r].volume=t:e.Sound._soundList.splice(r,1);n._volume=t},n.prototype.destroy=function(){for(var t=this,n=e.Sound._soundList.length,i=n-1;i>=0;i--)if(e.Sound._soundList[i]==t){e.Sound._soundList[i].stop(),e.Sound._soundList.splice(i,1);break}t.media.offTimeUpdate(),t.media.offPlay(),t.media.offEnded(),t.media=null},n._soundList=[],n._volume=1,n}(e.EventDispatcher);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.pause=!1,t.currentFrame=0,t.totalFrames=0,t._isLoop=0,t._delay=0,t._isFront=!0,t._cParams=null,t._loop=!1,t}return __extends(t,e),t.prototype.init=function(e,t,n,i){if(void 0===i&&(i=!0),t<=0||"number"!=typeof t)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var o=60*t>>0;r.totalFrames=o>0?o:1,r.target=e,r._isTo=i,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var a in n)switch(a){case"useFrame":1==n[a]&&(r.totalFrames=t);break;case"yoyo":!1===n[a]?r._isLoop=0:!0===n[a]?r._isLoop=Number.MAX_VALUE:r._isLoop=n[a];break;case"delay":n.useFrame?r._delay=n[a]:r._delay=60*n[a]>>0;break;case"ease":r._ease=n[a];break;case"onUpdate":r._update=n[a];break;case"onComplete":r._completeFun=n[a];break;case"completeParams":r._cParams=n[a];break;case"loop":r._loop=n[a];break;default:"number"==typeof n[a]&&(i?(r._startData[a]=e[a],r._disData[a]=n[a]-e[a]):(r._startData[a]=n[a],r._disData[a]=e[a]-n[a],e[a]=n[a]))}},t.prototype.update=function(){var e=this;if(!e.pause){if(e._isFront&&e._delay>0)return void e._delay--;var t=e.currentFrame/e.totalFrames;if(!(t<0||t>1)){e._ease&&(t=e._ease(t));var i=!1;for(var r in e._disData)i=!0,e.target[r]=e._startData[r]+e._disData[r]*t;if(!i)return void n.kill(e.instanceId);e._update&&e._update(t);var o=e._completeFun,a=e._cParams;e._isFront?++e.currentFrame>e.totalFrames&&(e._loop?e.currentFrame=1:e._isLoop>0?(e._isFront=!1,e.currentFrame=e.totalFrames,e._isLoop--):n.kill(e.instanceId),o&&o(a)):--e.currentFrame<0&&(e._isLoop>0?(e._isFront=!0,e.currentFrame=1):n.kill(e.instanceId),o&&o(a))}}},t.prototype.destroy=function(){var e=this;e._update=null,e._completeFun=null,e._ease=null},t}(e.AObject);e.TweenObj=t;var n=function(){function n(){}return n.to=function(e,t,i){return n.createTween(e,t,i,!0)},n.from=function(e,t,i){return n.createTween(e,t,i,!1)},n.createTween=function(i,r,o,a){for(var s,l=n._tweenList.length,u=0;u<l;u++)if(s=n._tweenList[u],i==s.target)for(var c in s._startData)void 0!=o[c]&&(delete s._startData[c],delete s._disData[c]);return l=n._tweenPool.length,l>0?(s=n._tweenPool.shift(),s._instanceId=e.AObject._object_id++):s=new t,n._tweenList.push(s),s.init(i,r,o,a),s.instanceId},n.killAll=function(){for(var e,t=n._tweenList.length,i=0;i<t;i++)e=n._tweenList[i],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,n._tweenPool.push(e);n._tweenList.length=0},n.kill=function(e){for(var t,i=n._tweenList.length,r=0;r<i;r++)if(t=n._tweenList[r],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,n._tweenPool.push(t),n._tweenList.splice(r,1);break}},n.quadraticIn=function(e){return e*e},n.quadraticOut=function(e){return e*(2-e)},n.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},n.cubicIn=function(e){return e*e*e},n.cubicOut=function(e){return--e*e*e+1},n.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.quarticIn=function(e){return e*e*e*e},n.quarticOut=function(e){return 1- --e*e*e*e},n.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.quinticIn=function(e){return e*e*e*e*e},n.quinticOut=function(e){return--e*e*e*e*e+1},n.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},n.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},n.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},n.exponentialIn=function(e){return 0===e?0:Math.pow(1024,e-1)},n.exponentialOut=function(e){return 1===e?1:1-Math.pow(2,-10*e)},n.exponentialInOut=function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},n.circularIn=function(e){return 1-Math.sqrt(1-e*e)},n.circularOut=function(e){return Math.sqrt(1- --e*e)},n.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.elasticIn=function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},n.elasticOut=function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},n.elasticInOut=function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},n.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.backInOut=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},n.bounceIn=function(e){return 1-n.bounceOut(1-e)},n.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.bounceInOut=function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5},n.flush=function(){for(var e=n._tweenList.length,t=e-1;t>=0;t--)n._tweenList[t]?n._tweenList[t].update():n._tweenList.splice(t,1)},n._tweenPool=[],n._tweenList=[],n}();e.Tween=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(n,i){void 0===i&&(i=0);var r=e.call(this)||this;r._currentCount=0,r._delay=0,r._frameDelay=0,r._currentFrameDelay=0,r._repeatCount=0,r._running=!1,n<=0&&(n=1);var o=r;return o._delay=n,o._frameDelay=Math.ceil(.001*n*60),o._repeatCount=i,t._timerList.push(o),r}return __extends(t,e),t.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},t.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},t.prototype.stop=function(){this._running=!1},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){e<0&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.kill=function(){for(var e=t._timerList.length,n=this,i=0;i<e;i++)if(t._timerList[i]._instanceId==n._instanceId){t._timerList.splice(i,1);break}},t.prototype.update=function(){var e=this;e._running&&++e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete")))},t.flush=function(){for(var e=t._timerList.length,n=e-1;n>=0;n--)t._timerList[n]?t._timerList[n].update():t._timerList.splice(n,1)},t.prototype.destroy=function(){this.kill(),e.prototype.destroy.call(this)},t._timerList=[],t}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){var t=function(){function t(){}return t.onMouseEvent=function(e){t.postMessage({type:e.type,data:{x:e.localX,y:e.localY}})},t.init=function(n,i){var r=t;r.context||(r.context=wx.getOpenDataContext(),r.postMessage({type:"initSharedCanvasStage"}),r.context.canvas.width=n,r.context.canvas.height=i,r.view=new e.Bitmap(r.context.canvas),r.view.addEventListener(e.MouseEvent.CLICK,r.onMouseEvent),r.view.addEventListener(e.MouseEvent.MOUSE_MOVE,r.onMouseEvent),r.view.addEventListener(e.MouseEvent.MOUSE_DOWN,r.onMouseEvent),r.view.addEventListener(e.MouseEvent.MOUSE_UP,r.onMouseEvent),r.view.addEventListener(e.MouseEvent.MOUSE_OVER,r.onMouseEvent),r.view.addEventListener(e.MouseEvent.MOUSE_OUT,r.onMouseEvent))},t.resize=function(e,n){var i=t;i.postMessage({type:"canvasResize",data:{w:e,h:n}}),i.context.canvas.width=e,i.context.canvas.height=n},t.destroy=function(){var e=t;e.view.destroy(),e.context=null},t.postMessage=function(e){t.context.postMessage(e)},t.show=function(){var e=t;e.context.postMessage({event:"onShow"}),e.view.visible=!0},t.hide=function(){var e=t;e.context.postMessage({event:"onHide"}),e.view.visible=!0},t.view=null,t}();e.SharedCanvas=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,r,o){var a=t.call(this)||this,s=a;s._instanceType="annie.CanvasRender",s._stage=i;var l=null;return e.isSharedCanvas?l=wx.getSharedCanvas():(l=wx.createCanvas(),l.width=r,l.height=o),n.canvas=l,n.drawCtx=l.getContext("2d"),a}return __extends(n,t),n.prototype.begin=function(){var e=this;n.drawCtx.setTransform(1,0,0,1,0,0);var t=n.drawCtx;""!=e._stage.bgColor?(t.fillStyle=e._stage.bgColor,t.fillRect(0,0,e._stage.divWidth,e._stage.divHeight)):t.clearRect(0,0,e._stage.divWidth,e._stage.divHeight)},n.prototype.beginMask=function(e){var t=this,i=n.drawCtx;i.save(),i.globalAlpha=0,t.drawMask(e,i),i.clip()},n.prototype.drawMask=function(e,t){var n=this,i=e.cMatrix;if(t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),"annie.Shape"==e._instanceType)e._draw(t,!0);else if("annie.Sprite"==e._instanceType||"annie.MovieClip"==e._instanceType)for(var r=0;r<e.children.length;r++)n.drawMask(e.children[r],t);else{var o=e._bounds;t.rect(0,0,o.width,o.height)}},n.prototype.endMask=function(){n.drawCtx.restore()},n.prototype.end=function(){},n.prototype.draw=function(e){e._cp&&this._stage.update(!1);var t=n.drawCtx;t.globalAlpha=e.cAlpha;var i=e.cMatrix;t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);var r=e._texture;r?t.drawImage(r,0,0):e._draw(t)},n.prototype.destroy=function(){this._stage=null},n.drawCtx=null,n.canvas=null,n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){function t(e){return!!GameGlobal[e]}function n(e){GameGlobal[e]=null,delete GameGlobal[e]}function i(e,t,n){h[e]={},h[e]._a2x_con=n;for(var i=0;i<t.length;i++)"image"!=t[i].type&&"sound"!=t[i].type||(h[e][t[i].id]=t[i].src);var r;for(var o in n)if(r=n[o],1==r.t){if(!r.f){r.f=[];continue}if(r.tf>1){for(var a=r.f,s=a.length,l=null,u=null,c=[],i=0;i<s;i++){if(l=a[i].c){for(var d in l){var _=l[d].at;if(void 0!=_&&-1!=_){if(0==_)c.push(d);else for(var p=0;p<c.length;p++)if(c[p]==_){c.splice(p,0,d);break}delete l[d].at}}if(u)for(var d in u)if(l[d])if(-1!=l[d].at)for(var f in u[d])void 0==l[d][f]&&(l[d][f]=u[d][f]);else delete l[d];else l[d]=u[d]}u=l}r.ol=c}}}function r(e,t){return h[e][t]?h[e][t]:null}function o(e,t){return new GameGlobal[e][t]}function a(t,n){return new e.Bitmap(h[t][n])}function s(e,t){var n;if(e._a2x_res_obj!=t){var i=e._a2x_res_obj;void 0!=t.tr&&1!=t.tr.length||(t.tr=[0,0,1,1,0,0]),i.tr!=t.tr&&(n=t.tr,e.x=n[0],e.y=n[1],e.scaleX=n[2],e.scaleY=n[3],e.skewX=n[4],e.skewY=n[5]),void 0!=t.w&&(e.textWidth=t.w,e.textHeight=t.h,e.y+=2),e.alpha=void 0==t.al?1:t.al,void 0!=t.t&&(-1==t.t&&e.initButton&&e.initButton(),e._mode=t.t),e._a2x_res_obj=t}}function l(t,n){var i,r=h[t]._a2x_con[n],o=decodeURIComponent(r[9]),a=decodeURIComponent(r[4]).replace(/\s(Regular|Medium)/,""),s=r[5],l=v[r[3]],u=f[r[2]],c=r[11],d=r[10],_=r[6],p=r[7],g=r[12],y=r[8];return i=new e.TextField,i.text=o,i.font=a,i.size=s,i.textAlign=l,i.lineType=u,i.italic=c,i.bold=d,i.color=_,i.textAlpha=p,i.border=g,i.lineHeight=y,2==r[1]&&console.log("wxApp isn't support inputText"),i}function u(t,n){for(var i=h[t]._a2x_con[n][1],r=new e.Shape,o=0;o<i.length;o++)1==i[o][0]?(0==i[o][1]?r.beginFill(e.Shape.getRGBA(i[o][2][0],i[o][2][1])):1==i[o][1]?r.beginLinearGradientFill(i[o][2][0],i[o][2][1]):2==i[o][1]?r.beginRadialGradientFill(i[o][2][0],i[o][2][1]):r.beginBitmapFill(a(t,i[o][2][0])._texture,i[o][2][1]),r.decodePath(i[o][3]),r.endFill()):(0==i[o][1]?r.beginStroke(e.Shape.getRGBA(i[o][2][0],i[o][2][1]),i[o][4],i[o][5],i[o][6],i[o][7]):1==i[o][1]?r.beginLinearGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):2==i[o][1]?r.beginRadialGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):r.beginBitmapStroke(a(t,i[o][2][0])._texture,i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]),r.decodePath(i[o][3]),r.endStroke());return r}function c(t,n){return new e.Sound(h[t][n])}function d(e,t,n){wx.loadSubpackage({name:e,success:function(t){n({status:1,name:e})},fail:function(t){n({status:0,name:e})}}).onProgressUpdate(t)}function _(t,n,i,r){void 0===r&&(r="");var o=null,a="../";""!=r&&(a="../"+r+"/"),o="string"==typeof t?[t]:t;for(var s=o.length,l=0;l<s;l++){
if(!GameGlobal[o[l]])if(e.isSharedCanvas){for(var u=require("../resource/"+o[l]+"/"+o[l]+".res.js"),c=require("../resource/"+o[l]+"/"+o[l]+".con.js"),d=0;d<u.length;d++)if("javascript"==u[d].type){var _=u[d].src.split("/")[2].split(".")[0];require("../"+u[d].src)[_]}else u[d].src="sharedCanvas/"+u[d].src;e.parseScene(o[l],u,c)}else{for(var p=require(a+"resource/"+o[l]+"/"+o[l]+".res.js"),c=require(a+"resource/"+o[l]+"/"+o[l]+".con.js"),d=0;d<p.length;d++)if("javascript"==p[d].type){var _=p[d].src.split("/")[2].split(".")[0];require(a+p[d].src)[_]}else""!=r&&(p[d].src=r+"/"+p[d].src);e.parseScene(o[l],p,c)}n&&n(Math.floor((l+1)/s*100)),i&&i({sceneId:l+1,sceneTotal:s,sceneName:o[l]})}}function p(t,n,i){var r=GameGlobal,o=h[n],d=o._a2x_con,_=d[i];t._a2x_res_class=_;var f,v=!1;if(_.tf>1&&(v=!0,void 0==_.timeLine)){var g=_.f.length,y=[],m=g>0?_.f[0].i:_.tf,b=0;if(m>0)for(var x=0;x<m;x++)y[y.length]=-1;if(g>0)for(f=0;f<g;f++){b=f+1<g?_.f[f+1].i:_.tf,m=_.f[f].i;for(var x=0;x<b-m;x++)y[y.length]=f}_.timeLine=y,_.f||(_.f=[]),_.c||(_.c=[]),_.a||(_.a={}),_.s||(_.s={}),_.e||(_.e={});var M={};if(_.l)for(var w in _.l)for(var P=0;P<_.l[w].length;P++)M[_.l[w][P]]=parseInt(w)+1;else _.l=[];_.label=M}var E=_.c;if(E){var O=[],T=E.length,F=null,S=0,C=null,L=0;for(f=0;f<T;f++){switch(S=Array.isArray(d[E[f]])?d[E[f]][0]:d[E[f]].t){case 1:case 4:_.n&&_.n[f]&&t[_.n[f]]?F=t[_.n[f]]:(4==S?F=l(n,E[f]):0==E[f].indexOf("_$")?(F=d[E[f]].tf>1?new e.MovieClip:new e.Sprite,p(F,n,E[f])):F=new r[n][E[f]],_.n&&_.n[f]&&(t[_.n[f]]=F,F.name=_.n[f]));break;case 2:F=a(n,E[f]);break;case 3:F=u(n,E[f]);break;case 5:F=c(n,E[f]),F.name=E[f],t.addSound(F)}if(v)O[O.length]=F,5==S&&(F.isPlaying=!1,t._a2x_sounds||(t._a2x_sounds={}),t._a2x_sounds[f]=F);else{var w=f+1;5==S?F._loop=F._repeate=_.s[0][w]:(s(F,_.f[0].c[w]),void 0!=_.f[0].c[w].ma?(C=F,L=_.f[0].c[w].ma-1):C&&f<=L&&(F.mask=C,f==L&&(C=null)),t.addChildAt(F,0))}}if(v){var A=_.ol;if(A)for(var U=0;U<A.length;U++)t._a2x_res_children[U]=[A[U],O[A[U]-1]]}}}e.version="2.0.2",e.devicePixelRatio=1,e.isSharedCanvas=!1,e.globalDispatcher=new e.EventDispatcher,e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"};var h={};e.isLoadedScene=t,e.unLoadScene=n,e.parseScene=i,e.getResource=r,e.getDisplay=o,e.d=s;var f=["single","multiline"],v=["left","center","right"];e.loadSubScene=d,e.loadScene=_,e.initRes=p,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();
GameGlobal.AnnieRoot= GameGlobal;
GameGlobal.A2xExtend=__extends;
annie.A2xExtend=__extends;
GameGlobal.annie= annie;
GameGlobal.trace= console.log;
GameGlobal.addEventListener=function (type,listener) {
    listener();
};